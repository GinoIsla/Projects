MP2COD 4.04, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Thu Nov 30 15:26:11 2006


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.3.14.1 2006/01/24 14:50:12 rhinec Exp $ */                   C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
000000   ef37     GOTO      0x166e         _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
000002   f00b                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
000004   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
00166e   ee15     LFSR      0x1,0x500          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
001670   f000                                                                                                               
001672   ee25     LFSR      0x2,0x500          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
001674   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
001676   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
001678   9c05     BCF       0x5,0x6,0x0        bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
00167a   ece8     CALL      0x15d0,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
00167c   f00a                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
00167e   ec92     CALL      0x1524,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
001680   f00a                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
001682   d7fd     BRA       0x167e           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
001684   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
0015d0   0e2a     MOVLW     0x2a             TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
0015d2   6ef6     MOVWF     0xf6,0x0                                                                                        
0015d4   0e00     MOVLW     0x0                                                                                             
0015d6   6ef7     MOVWF     0xf7,0x0                                                                                        
0015d8   0e00     MOVLW     0x0                                                                                             
0015da   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
0015dc   0101     MOVLB     0x1                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
0015de   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
0015e0   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
0015e2   6f13     MOVWF     0x13,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
0015e4   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
0015e6   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
0015e8   6f14     MOVWF     0x14,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
0015ea   e103     BNZ       0x15f2              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
0015ec   6713     TSTFSZ    0x13,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
0015ee   d001     BRA       0x15f2             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
0015f0   d03d     BRA       0x166c             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
0015f2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0015f4   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0015f6   6f0e     MOVWF     0xe,0x1        	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
0015f8   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0015fa   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0015fc   6f0f     MOVWF     0xf,0x1        	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
0015fe   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
001600   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
001602   6f10     MOVWF     0x10,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
001604   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
001606   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
001608   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
00160a   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
00160c   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
00160e   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
001610   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
001612   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
001614   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
001616   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
001618   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
00161a   6f11     MOVWF     0x11,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
00161c   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
00161e   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
001620   6f12     MOVWF     0x12,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
001622   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
001624   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
001626   cff6     MOVFF     0xff6,0x115          data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
001628   f115                                                                                                               
00162a   cff7     MOVFF     0xff7,0x116                                                                                     
00162c   f116                                                                                                               
00162e   cff8     MOVFF     0xff8,0x117                                                                                     
001630   f117                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
001632   c10e     MOVFF     0x10e,0xff6          TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
001634   fff6                                                                                                               
001636   c10f     MOVFF     0x10f,0xff7                                                                                     
001638   fff7                                                                                                               
00163a   c110     MOVFF     0x110,0xff8                                                                                     
00163c   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
00163e   0101     MOVLB     0x1            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
001640   5311     MOVF      0x11,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
001642   e102     BNZ       0x1648         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
001644   5312     MOVF      0x12,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
001646   e007     BZ        0x1656         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
001648   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
00164a   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
00164c   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
00164e   0711     DECF      0x11,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
001650   e2f8     BC        0x1642         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
001652   0712     DECF      0x12,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
001654   d7f9     BRA       0x1648         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
001656   c115     MOVFF     0x115,0xff6          TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
001658   fff6                                                                                                               
00165a   c116     MOVFF     0x116,0xff7                                                                                     
00165c   fff7                                                                                                               
00165e   c117     MOVFF     0x117,0xff8                                                                                     
001660   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
001662   0101     MOVLB     0x1                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
001664   0713     DECF      0x13,0x1,0x1                                                                                    
001666   0e00     MOVLW     0x0                                                                                             
001668   5b14     SUBWFB    0x14,0x1,0x1                                                                                    
00166a   d7bf     BRA       0x15ea               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
00166c   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           // Programmer: Gino Isla for Lambda Sistemi, Milano                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Intialiazation procedures for a CANOpen node                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Created: 22-11-2004                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //                                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //---------------------------------------------------------------------          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Interrupt Code                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //---------------------------------------------------------------------          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           #include <p18f4580.h>                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           #include "can.h"                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           /* ------------------------------------------- Variabili globali: -------------- */ C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //extern volatile struct M_TXB_BUFF TXB_B[MAX_CAN_OUT];                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern volatile M_TXB_BUFF TXB_B[MAX_CAN_OUT];                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern volatile M_TXB_BUFF RXB_B[MAX_CAN_IN];                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern char StatoUnita;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned int Id;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern M_HEARTBEAT heartbeat_count;                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern M_HEARTBEAT heartbeat_rate;                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern M_TIMER_1_CONVERT T1;                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern M_KEY_ROW KEY_PAD_NEW[MAX_ROWS];  //recently read keypad                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern M_KEY_ROW KEY_PAD_PREV[MAX_ROWS]; //previous keypad states                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern M_KEY_ROW KEY_PAD_SENT[MAX_ROWS]; //last sent keypad states               C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern M_LED_mask mask;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           M_LONGID Id_p;                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char DEBOUNCE_FLAG;                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char debounce_count;                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char debounce_period;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char row_count;                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char Next_Group;                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char LEDs [6];                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char BlinkLEDs [6];                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char BlinkMask [6];                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char LEDs_on;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char ultimo_out;                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char check_keypad_now;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char test_error_now;                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char error_persistancy_count;                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned char NON_error_persistancy_count;                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           extern unsigned int	blink_rate;                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBD0;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBD1;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBD2;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBD3;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBD4;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBD5;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBD6;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBD7;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BST_BR_R;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBSIDL;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBSIDH;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char    RXB_B_BTXBDLC;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char   bus_passive = 0;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           char   bus_off_int = 0;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // default parameters                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           #pragma romdata eeprom=0xF00000                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           const rom char y []= {3,2,3,0xE8,0,3,9,9,9,9};                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           #pragma romdata                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           		                                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //#pragma interrupt InterruptRxCAN save=PROD,section(".tmpdata") gi: redundant in MPLAB 7.40 C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           #pragma interrupt InterruptRxCAN                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           #pragma code isrcode=0x0008                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           void InterruptHandler(void)                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000008   ef22     GOTO      0x44            _asm   goto InterruptRxCAN   _endasm                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00000a   f000                                                                                                               
00000c   0012     RETURN    0x0            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           #pragma code                                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Gestione recezione messaggio CAN                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000044   cfda     MOVFF     0xfda,0xfe4    void InterruptRxCAN(void)                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000046   ffe4                                                                                                               
000048   cfe2     MOVFF     0xfe2,0xfda                                                                                     
00004a   ffda                                                                                                               
00004c   cfe9     MOVFF     0xfe9,0xfe4                                                                                     
00004e   ffe4                                                                                                               
000050   cfea     MOVFF     0xfea,0xfe4                                                                                     
000052   ffe4                                                                                                               
000054   cff3     MOVFF     0xff3,0xfe4                                                                                     
000056   ffe4                                                                                                               
000058   cff4     MOVFF     0xff4,0xfe4                                                                                     
00005a   ffe4                                                                                                               
00005c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
00005e   cfd9     MOVFF     0xfd9,0xfe6                                                                                     
000060   ffe6                                                                                                               
000062   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000064   ffd9                                                                                                               
000066   0e03     MOVLW     0x3                                                                                             
000068   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            char i;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            char TempCANSTAT,TempCANCON;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Receive a data object                                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
00006a   0e01     MOVLW     0x1                TempCANSTAT = CANSTAT;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00006c   cf6e     MOVFF     0xf6e,0xfdb                                                                                     
00006e   ffdb                                                                                                               
000070   0e02     MOVLW     0x2                TempCANCON = CANCON;                                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
000072   cf6f     MOVFF     0xf6f,0xfdb                                                                                     
000074   ffdb                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000076   ae60     BTFSS     0x60,0x7,0x0       if (RXB0CONbits.RXFUL)                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000078   d01f     BRA       0xb8                                                                                            
                                               {                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00007a   cf66     MOVFF     0xf66,0x102         RXB_B_BTXBD0 = RXB0D0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
00007c   f102                                                                                                               
00007e   cf67     MOVFF     0xf67,0x103         RXB_B_BTXBD1 = RXB0D1;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000080   f103                                                                                                               
000082   cf68     MOVFF     0xf68,0x104         RXB_B_BTXBD2 = RXB0D2;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000084   f104                                                                                                               
000086   cf69     MOVFF     0xf69,0x105         RXB_B_BTXBD3 = RXB0D3;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000088   f105                                                                                                               
00008a   cf6a     MOVFF     0xf6a,0x106         RXB_B_BTXBD4 = RXB0D4;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
00008c   f106                                                                                                               
00008e   cf6b     MOVFF     0xf6b,0x107         RXB_B_BTXBD5 = RXB0D5;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000090   f107                                                                                                               
000092   cf6c     MOVFF     0xf6c,0x108         RXB_B_BTXBD6 = RXB0D6;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000094   f108                                                                                                               
000096   cf6d     MOVFF     0xf6d,0x109         RXB_B_BTXBD7 = RXB0D7;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000098   f109                                                                                                               
00009a   5060     MOVF      0x60,0x0,0x0        RXB_B_BST_BR_R = RXB0CONbits.RXRTRRO;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00009c   0b08     ANDLW     0x8                                                                                             
00009e   e001     BZ        0xa2                                                                                            
0000a0   0e01     MOVLW     0x1                                                                                             
0000a2   0101     MOVLB     0x1                                                                                             
0000a4   6f0a     MOVWF     0xa,0x1                                                                                         
0000a6   cf62     MOVFF     0xf62,0x10b         RXB_B_BTXBSIDL = RXB0SIDL;                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000a8   f10b                                                                                                               
0000aa   cf61     MOVFF     0xf61,0x10c         RXB_B_BTXBSIDH = RXB0SIDH;                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000ac   f10c                                                                                                               
0000ae   cf65     MOVFF     0xf65,0x10d    	 RXB_B_BTXBDLC = RXB0DLC;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000b0   f10d                                                                                                               
0000b2   9e60     BCF       0x60,0x7,0x0        RXB0CONbits.RXFUL = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000b4   90a4     BCF       0xa4,0x0,0x0        PIR3bits.RXB0IF = 0;                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                               }                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000b6   d020     BRA       0xf8              else                                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                               {                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000b8   cf56     MOVFF     0xf56,0x102         RXB_B_BTXBD0 = RXB1D0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000ba   f102                                                                                                               
0000bc   cf57     MOVFF     0xf57,0x103         RXB_B_BTXBD1 = RXB1D1;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000be   f103                                                                                                               
0000c0   cf58     MOVFF     0xf58,0x104         RXB_B_BTXBD2 = RXB1D2;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000c2   f104                                                                                                               
0000c4   cf59     MOVFF     0xf59,0x105         RXB_B_BTXBD3 = RXB1D3;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000c6   f105                                                                                                               
0000c8   cf5a     MOVFF     0xf5a,0x106         RXB_B_BTXBD4 = RXB1D4;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000ca   f106                                                                                                               
0000cc   cf5b     MOVFF     0xf5b,0x107         RXB_B_BTXBD5 = RXB1D5;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000ce   f107                                                                                                               
0000d0   cf5c     MOVFF     0xf5c,0x108         RXB_B_BTXBD6 = RXB1D6;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000d2   f108                                                                                                               
0000d4   cf5d     MOVFF     0xf5d,0x109         RXB_B_BTXBD7 = RXB1D7;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000d6   f109                                                                                                               
0000d8   010f     MOVLB     0xf                 RXB_B_BST_BR_R = RXB1CONbits.RXRTRRO;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000da   5150     MOVF      0x50,0x0,0x1                                                                                    
0000dc   0b08     ANDLW     0x8                                                                                             
0000de   e001     BZ        0xe2                                                                                            
0000e0   0e01     MOVLW     0x1                                                                                             
0000e2   0101     MOVLB     0x1                                                                                             
0000e4   6f0a     MOVWF     0xa,0x1                                                                                         
0000e6   cf52     MOVFF     0xf52,0x10b         RXB_B_BTXBSIDL = RXB1SIDL;                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000e8   f10b                                                                                                               
0000ea   cf51     MOVFF     0xf51,0x10c         RXB_B_BTXBSIDH = RXB1SIDH;                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000ec   f10c                                                                                                               
0000ee   cf55     MOVFF     0xf55,0x10d    	 RXB_B_BTXBDLC = RXB1DLC;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000f0   f10d                                                                                                               
0000f2   010f     MOVLB     0xf                 RXB1CONbits.RXFUL = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000f4   9f50     BCF       0x50,0x7,0x1                                                                                    
0000f6   92a4     BCF       0xa4,0x1,0x0        PIR3bits.RXB1IF = 0;                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                               }                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                              // Identify the DO received                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000f8   6adf     CLRF      0xdf,0x0          for (i = 0 ; i < CAN_OPEN_RX_END ; i++)                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
0000fa   cfdf     MOVFF     0xfdf,0x6                                                                                       
0000fc   f006                                                                                                               
0000fe   0e04     MOVLW     0x4                                                                                             
000100   6ee7     MOVWF     0xe7,0x0                                                                                        
000102   1806     XORWF     0x6,0x0,0x0                                                                                     
000104   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000106   d002     BRA       0x10c                                                                                           
000108   34e7     RLCF      0xe7,0x0,0x0                                                                                    
00010a   d002     BRA       0x110                                                                                           
00010c   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00010e   5c06     SUBWF     0x6,0x0,0x0                                                                                     
000110   e301     BNC       0x114                                                                                           
000112   d144     BRA       0x39c                                                                                           
000398   2adf     INCF      0xdf,0x1,0x0                                                                                    
00039a   d6af     BRA       0xfa                                                                                            
                                               {                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000114   cfdf     MOVFF     0xfdf,0xfe9         if ( RXB_B [i].TXBSIDL == RXB_B_BTXBSIDL && RXB_B [i].TXBSIDH == RXB_B_BTXBSIDH ) C:\Embedded\Tastiera CanOpenV.3.1\init.c
000116   ffe9                                                                                                               
000118   6aea     CLRF      0xea,0x0                                                                                        
00011a   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
00011c   68ea     SETF      0xea,0x0                                                                                        
00011e   0e0c     MOVLW     0xc                                                                                             
000120   02ea     MULWF     0xea,0x0                                                                                        
000122   cff3     MOVFF     0xff3,0xfea                                                                                     
000124   ffea                                                                                                               
000126   02e9     MULWF     0xe9,0x0                                                                                        
000128   cff3     MOVFF     0xff3,0xfe9                                                                                     
00012a   ffe9                                                                                                               
00012c   50f4     MOVF      0xf4,0x0,0x0                                                                                    
00012e   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000130   0e90     MOVLW     0x90                                                                                            
000132   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000134   0e00     MOVLW     0x0                                                                                             
000136   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000138   0e09     MOVLW     0x9                                                                                             
00013a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00013c   0e00     MOVLW     0x0                                                                                             
00013e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000140   50ef     MOVF      0xef,0x0,0x0                                                                                    
000142   0101     MOVLB     0x1                                                                                             
000144   5d0b     SUBWF     0xb,0x0,0x1                                                                                     
000146   e001     BZ        0x14a                                                                                           
000148   d127     BRA       0x398                                                                                           
00014a   cfdf     MOVFF     0xfdf,0xfe9                                                                                     
00014c   ffe9                                                                                                               
00014e   6aea     CLRF      0xea,0x0                                                                                        
000150   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000152   68ea     SETF      0xea,0x0                                                                                        
000154   0e0c     MOVLW     0xc                                                                                             
000156   02ea     MULWF     0xea,0x0                                                                                        
000158   cff3     MOVFF     0xff3,0xfea                                                                                     
00015a   ffea                                                                                                               
00015c   02e9     MULWF     0xe9,0x0                                                                                        
00015e   cff3     MOVFF     0xff3,0xfe9                                                                                     
000160   ffe9                                                                                                               
000162   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000164   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000166   0e90     MOVLW     0x90                                                                                            
000168   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00016a   0e00     MOVLW     0x0                                                                                             
00016c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00016e   0e0a     MOVLW     0xa                                                                                             
000170   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000172   0e00     MOVLW     0x0                                                                                             
000174   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000176   50ef     MOVF      0xef,0x0,0x0                                                                                    
000178   5d0c     SUBWF     0xc,0x0,0x1                                                                                     
00017a   e001     BZ        0x17e                                                                                           
00017c   d10d     BRA       0x398                                                                                           
                                                 {                                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
00017e   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].TXBD0 = RXB_B_BTXBD0;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000180   ffe9                                                                                                               
000182   6aea     CLRF      0xea,0x0                                                                                        
000184   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000186   68ea     SETF      0xea,0x0                                                                                        
000188   0e0c     MOVLW     0xc                                                                                             
00018a   02ea     MULWF     0xea,0x0                                                                                        
00018c   cff3     MOVFF     0xff3,0xfea                                                                                     
00018e   ffea                                                                                                               
000190   02e9     MULWF     0xe9,0x0                                                                                        
000192   cff3     MOVFF     0xff3,0xfe9                                                                                     
000194   ffe9                                                                                                               
000196   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000198   26ea     ADDWF     0xea,0x1,0x0                                                                                    
00019a   0e90     MOVLW     0x90                                                                                            
00019c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00019e   0e00     MOVLW     0x0                                                                                             
0001a0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0001a2   0e07     MOVLW     0x7                                                                                             
0001a4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0001a6   0e00     MOVLW     0x0                                                                                             
0001a8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0001aa   c102     MOVFF     0x102,0xfef                                                                                     
0001ac   ffef                                                                                                               
0001ae   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].TXBD1 = RXB_B_BTXBD1;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0001b0   ffe9                                                                                                               
0001b2   6aea     CLRF      0xea,0x0                                                                                        
0001b4   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0001b6   68ea     SETF      0xea,0x0                                                                                        
0001b8   0e0c     MOVLW     0xc                                                                                             
0001ba   02ea     MULWF     0xea,0x0                                                                                        
0001bc   cff3     MOVFF     0xff3,0xfea                                                                                     
0001be   ffea                                                                                                               
0001c0   02e9     MULWF     0xe9,0x0                                                                                        
0001c2   cff3     MOVFF     0xff3,0xfe9                                                                                     
0001c4   ffe9                                                                                                               
0001c6   50f4     MOVF      0xf4,0x0,0x0                                                                                    
0001c8   26ea     ADDWF     0xea,0x1,0x0                                                                                    
0001ca   0e90     MOVLW     0x90                                                                                            
0001cc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0001ce   0e00     MOVLW     0x0                                                                                             
0001d0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0001d2   0e06     MOVLW     0x6                                                                                             
0001d4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0001d6   0e00     MOVLW     0x0                                                                                             
0001d8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0001da   c103     MOVFF     0x103,0xfef                                                                                     
0001dc   ffef                                                                                                               
0001de   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].TXBD2 = RXB_B_BTXBD2;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0001e0   ffe9                                                                                                               
0001e2   6aea     CLRF      0xea,0x0                                                                                        
0001e4   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0001e6   68ea     SETF      0xea,0x0                                                                                        
0001e8   0e0c     MOVLW     0xc                                                                                             
0001ea   02ea     MULWF     0xea,0x0                                                                                        
0001ec   cff3     MOVFF     0xff3,0xfea                                                                                     
0001ee   ffea                                                                                                               
0001f0   02e9     MULWF     0xe9,0x0                                                                                        
0001f2   cff3     MOVFF     0xff3,0xfe9                                                                                     
0001f4   ffe9                                                                                                               
0001f6   50f4     MOVF      0xf4,0x0,0x0                                                                                    
0001f8   26ea     ADDWF     0xea,0x1,0x0                                                                                    
0001fa   0e90     MOVLW     0x90                                                                                            
0001fc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0001fe   0e00     MOVLW     0x0                                                                                             
000200   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000202   0e05     MOVLW     0x5                                                                                             
000204   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000206   0e00     MOVLW     0x0                                                                                             
000208   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00020a   c104     MOVFF     0x104,0xfef                                                                                     
00020c   ffef                                                                                                               
00020e   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].TXBD3 = RXB_B_BTXBD3;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000210   ffe9                                                                                                               
000212   6aea     CLRF      0xea,0x0                                                                                        
000214   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000216   68ea     SETF      0xea,0x0                                                                                        
000218   0e0c     MOVLW     0xc                                                                                             
00021a   02ea     MULWF     0xea,0x0                                                                                        
00021c   cff3     MOVFF     0xff3,0xfea                                                                                     
00021e   ffea                                                                                                               
000220   02e9     MULWF     0xe9,0x0                                                                                        
000222   cff3     MOVFF     0xff3,0xfe9                                                                                     
000224   ffe9                                                                                                               
000226   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000228   26ea     ADDWF     0xea,0x1,0x0                                                                                    
00022a   0e90     MOVLW     0x90                                                                                            
00022c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00022e   0e00     MOVLW     0x0                                                                                             
000230   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000232   0e04     MOVLW     0x4                                                                                             
000234   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000236   0e00     MOVLW     0x0                                                                                             
000238   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00023a   c105     MOVFF     0x105,0xfef                                                                                     
00023c   ffef                                                                                                               
00023e   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].TXBD4 = RXB_B_BTXBD4;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000240   ffe9                                                                                                               
000242   6aea     CLRF      0xea,0x0                                                                                        
000244   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000246   68ea     SETF      0xea,0x0                                                                                        
000248   0e0c     MOVLW     0xc                                                                                             
00024a   02ea     MULWF     0xea,0x0                                                                                        
00024c   cff3     MOVFF     0xff3,0xfea                                                                                     
00024e   ffea                                                                                                               
000250   02e9     MULWF     0xe9,0x0                                                                                        
000252   cff3     MOVFF     0xff3,0xfe9                                                                                     
000254   ffe9                                                                                                               
000256   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000258   26ea     ADDWF     0xea,0x1,0x0                                                                                    
00025a   0e90     MOVLW     0x90                                                                                            
00025c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00025e   0e00     MOVLW     0x0                                                                                             
000260   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000262   0e03     MOVLW     0x3                                                                                             
000264   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000266   0e00     MOVLW     0x0                                                                                             
000268   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00026a   c106     MOVFF     0x106,0xfef                                                                                     
00026c   ffef                                                                                                               
00026e   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].TXBD5 = RXB_B_BTXBD5;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000270   ffe9                                                                                                               
000272   6aea     CLRF      0xea,0x0                                                                                        
000274   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000276   68ea     SETF      0xea,0x0                                                                                        
000278   0e0c     MOVLW     0xc                                                                                             
00027a   02ea     MULWF     0xea,0x0                                                                                        
00027c   cff3     MOVFF     0xff3,0xfea                                                                                     
00027e   ffea                                                                                                               
000280   02e9     MULWF     0xe9,0x0                                                                                        
000282   cff3     MOVFF     0xff3,0xfe9                                                                                     
000284   ffe9                                                                                                               
000286   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000288   26ea     ADDWF     0xea,0x1,0x0                                                                                    
00028a   0e90     MOVLW     0x90                                                                                            
00028c   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00028e   0e00     MOVLW     0x0                                                                                             
000290   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000292   0e02     MOVLW     0x2                                                                                             
000294   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000296   0e00     MOVLW     0x0                                                                                             
000298   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00029a   c107     MOVFF     0x107,0xfef                                                                                     
00029c   ffef                                                                                                               
00029e   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].TXBD6 = RXB_B_BTXBD6;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0002a0   ffe9                                                                                                               
0002a2   6aea     CLRF      0xea,0x0                                                                                        
0002a4   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0002a6   68ea     SETF      0xea,0x0                                                                                        
0002a8   0e0c     MOVLW     0xc                                                                                             
0002aa   02ea     MULWF     0xea,0x0                                                                                        
0002ac   cff3     MOVFF     0xff3,0xfea                                                                                     
0002ae   ffea                                                                                                               
0002b0   02e9     MULWF     0xe9,0x0                                                                                        
0002b2   cff3     MOVFF     0xff3,0xfe9                                                                                     
0002b4   ffe9                                                                                                               
0002b6   50f4     MOVF      0xf4,0x0,0x0                                                                                    
0002b8   26ea     ADDWF     0xea,0x1,0x0                                                                                    
0002ba   0e90     MOVLW     0x90                                                                                            
0002bc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0002be   0e00     MOVLW     0x0                                                                                             
0002c0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0002c2   52ee     MOVF      0xee,0x1,0x0                                                                                    
0002c4   c108     MOVFF     0x108,0xfef                                                                                     
0002c6   ffef                                                                                                               
0002c8   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].TXBD7 = RXB_B_BTXBD7;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0002ca   ffe9                                                                                                               
0002cc   6aea     CLRF      0xea,0x0                                                                                        
0002ce   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0002d0   68ea     SETF      0xea,0x0                                                                                        
0002d2   0e0c     MOVLW     0xc                                                                                             
0002d4   02ea     MULWF     0xea,0x0                                                                                        
0002d6   cff3     MOVFF     0xff3,0xfea                                                                                     
0002d8   ffea                                                                                                               
0002da   02e9     MULWF     0xe9,0x0                                                                                        
0002dc   cff3     MOVFF     0xff3,0xfe9                                                                                     
0002de   ffe9                                                                                                               
0002e0   50f4     MOVF      0xf4,0x0,0x0                                                                                    
0002e2   26ea     ADDWF     0xea,0x1,0x0                                                                                    
0002e4   0e90     MOVLW     0x90                                                                                            
0002e6   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0002e8   0e00     MOVLW     0x0                                                                                             
0002ea   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0002ec   c109     MOVFF     0x109,0xfef                                                                                     
0002ee   ffef                                                                                                               
0002f0   cfdf     MOVFF     0xfdf,0xfe9    	   RXB_B [i].TXBDLC = RXB_B_BTXBDLC;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0002f2   ffe9                                                                                                               
0002f4   6aea     CLRF      0xea,0x0                                                                                        
0002f6   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0002f8   68ea     SETF      0xea,0x0                                                                                        
0002fa   0e0c     MOVLW     0xc                                                                                             
0002fc   02ea     MULWF     0xea,0x0                                                                                        
0002fe   cff3     MOVFF     0xff3,0xfea                                                                                     
000300   ffea                                                                                                               
000302   02e9     MULWF     0xe9,0x0                                                                                        
000304   cff3     MOVFF     0xff3,0xfe9                                                                                     
000306   ffe9                                                                                                               
000308   50f4     MOVF      0xf4,0x0,0x0                                                                                    
00030a   26ea     ADDWF     0xea,0x1,0x0                                                                                    
00030c   0e90     MOVLW     0x90                                                                                            
00030e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000310   0e00     MOVLW     0x0                                                                                             
000312   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000314   0e08     MOVLW     0x8                                                                                             
000316   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000318   0e00     MOVLW     0x0                                                                                             
00031a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00031c   c10d     MOVFF     0x10d,0xfef                                                                                     
00031e   ffef                                                                                                               
000320   cfdf     MOVFF     0xfdf,0xfe9           RXB_B [i].ST_B.IN  = 1;                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
000322   ffe9                                                                                                               
000324   6aea     CLRF      0xea,0x0                                                                                        
000326   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000328   68ea     SETF      0xea,0x0                                                                                        
00032a   0e0c     MOVLW     0xc                                                                                             
00032c   02ea     MULWF     0xea,0x0                                                                                        
00032e   cff3     MOVFF     0xff3,0xfea                                                                                     
000330   ffea                                                                                                               
000332   02e9     MULWF     0xe9,0x0                                                                                        
000334   cff3     MOVFF     0xff3,0xfe9                                                                                     
000336   ffe9                                                                                                               
000338   50f4     MOVF      0xf4,0x0,0x0                                                                                    
00033a   26ea     ADDWF     0xea,0x1,0x0                                                                                    
00033c   0e90     MOVLW     0x90                                                                                            
00033e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000340   0e00     MOVLW     0x0                                                                                             
000342   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000344   0e0b     MOVLW     0xb                                                                                             
000346   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000348   0e00     MOVLW     0x0                                                                                             
00034a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00034c   8cef     BSF       0xef,0x6,0x0                                                                                    
00034e   510a     MOVF      0xa,0x0,0x1           RXB_B [i].ST_B.R_R = RXB_B_BST_BR_R;                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000350   6e06     MOVWF     0x6,0x0                                                                                         
000352   cfdf     MOVFF     0xfdf,0xfe9                                                                                     
000354   ffe9                                                                                                               
000356   6aea     CLRF      0xea,0x0                                                                                        
000358   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
00035a   68ea     SETF      0xea,0x0                                                                                        
00035c   0e0c     MOVLW     0xc                                                                                             
00035e   02ea     MULWF     0xea,0x0                                                                                        
000360   cff3     MOVFF     0xff3,0xfea                                                                                     
000362   ffea                                                                                                               
000364   02e9     MULWF     0xe9,0x0                                                                                        
000366   cff3     MOVFF     0xff3,0xfe9                                                                                     
000368   ffe9                                                                                                               
00036a   50f4     MOVF      0xf4,0x0,0x0                                                                                    
00036c   26ea     ADDWF     0xea,0x1,0x0                                                                                    
00036e   0e90     MOVLW     0x90                                                                                            
000370   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000372   0e00     MOVLW     0x0                                                                                             
000374   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000376   0e0b     MOVLW     0xb                                                                                             
000378   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00037a   0e00     MOVLW     0x0                                                                                             
00037c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00037e   5006     MOVF      0x6,0x0,0x0                                                                                     
000380   0b01     ANDLW     0x1                                                                                             
000382   6ef3     MOVWF     0xf3,0x0                                                                                        
000384   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
000386   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
000388   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
00038a   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
00038c   46f3     RLNCF     0xf3,0x1,0x0                                                                                    
00038e   0edf     MOVLW     0xdf                                                                                            
000390   14ef     ANDWF     0xef,0x0,0x0                                                                                    
000392   10f3     IORWF     0xf3,0x0,0x0                                                                                    
000394   6eef     MOVWF     0xef,0x0                                                                                        
000396   d002     BRA       0x39c                 break;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                 }                                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                               }                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                              // Overflow buffer                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00039c   0ec0     MOVLW     0xc0              if (COMSTAT & 0xC0)                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
00039e   1474     ANDWF     0x74,0x0,0x0                                                                                    
0003a0   e002     BZ        0x3a6                                                                                           
                                               {                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003a2   9e74     BCF       0x74,0x7,0x0        COMSTATbits.RXB0OVFL   = 0;                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003a4   9c74     BCF       0x74,0x6,0x0        COMSTATbits.RXB1OVFL   = 0;                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                               }                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003a6   0ef1     MOVLW     0xf1           	CANCON &= 0xF1;		//clear CANCON.WIN bits                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003a8   166f     ANDWF     0x6f,0x1,0x0                                                                                    
0003aa   0e01     MOVLW     0x1            	TempCANSTAT &= 0x0E;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003ac   90db     BCF       0xdb,0x0,0x0                                                                                    
0003ae   98db     BCF       0xdb,0x4,0x0                                                                                    
0003b0   9adb     BCF       0xdb,0x5,0x0                                                                                    
0003b2   9cdb     BCF       0xdb,0x6,0x0                                                                                    
0003b4   9edb     BCF       0xdb,0x7,0x0                                                                                    
0003b6   50db     MOVF      0xdb,0x0,0x0   	CANCON |= TempCANSTAT;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003b8   126f     IORWF     0x6f,0x1,0x0                                                                                    
0003ba   0ef1     MOVLW     0xf1           	CANCON &=0xF1;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003bc   166f     ANDWF     0x6f,0x1,0x0                                                                                    
0003be   0e02     MOVLW     0x2            	CANCON |= TempCANCON;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003c0   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003c2   126f     IORWF     0x6f,0x1,0x0                                                                                    
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003c4   0e03     MOVLW     0x3            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003c6   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0003c8   e202     BC        0x3ce                                                                                           
0003ca   6ae1     CLRF      0xe1,0x0                                                                                        
0003cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0003ce   6ee1     MOVWF     0xe1,0x0                                                                                        
0003d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0003d2   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0003d4   ffd9                                                                                                               
0003d6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0003d8   cfe5     MOVFF     0xfe5,0xff4                                                                                     
0003da   fff4                                                                                                               
0003dc   cfe5     MOVFF     0xfe5,0xff3                                                                                     
0003de   fff3                                                                                                               
0003e0   cfe5     MOVFF     0xfe5,0xfea                                                                                     
0003e2   ffea                                                                                                               
0003e4   cfe5     MOVFF     0xfe5,0xfe9                                                                                     
0003e6   ffe9                                                                                                               
0003e8   cfe5     MOVFF     0xfe5,0xfda                                                                                     
0003ea   ffda                                                                                                               
0003ec   0011     RETFIE    0x1                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //Write information to EEPROM                       //                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003ee   cfd9     MOVFF     0xfd9,0xfe6    void WriteEEprom (unsigned char EEPROM_address,unsigned char EEPROM_data)        C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003f0   ffe6                                                                                                               
0003f2   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0003f4   ffd9                                                                                                               
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003f6   b2a6     BTFSC     0xa6,0x1,0x0     while (EECON1bits.WR);  //wait for write cycle to complete                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003f8   d7fe     BRA       0x3f6                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003fa   0efe     MOVLW     0xfe             EEADR = EEPROM_address;                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
0003fc   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003fe   6ea9     MOVWF     0xa9,0x0                                                                                        
000400   0efd     MOVLW     0xfd             EEDATA = EEPROM_data;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000402   50db     MOVF      0xdb,0x0,0x0                                                                                    
000404   6ea8     MOVWF     0xa8,0x0                                                                                        
000406   9ea6     BCF       0xa6,0x7,0x0     EECON1bits.EEPGD = 0;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000408   9ca6     BCF       0xa6,0x6,0x0     EECON1bits.CFGS = 0;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
00040a   84a6     BSF       0xa6,0x2,0x0     EECON1bits.WREN = 1;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
00040c   9ef2     BCF       0xf2,0x7,0x0     INTCONbits.GIE = 0;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00040e   0e55     MOVLW     0x55             EECON2 = 0x55;                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000410   6ea7     MOVWF     0xa7,0x0                                                                                        
000412   0eaa     MOVLW     0xaa             EECON2 = 0xAA;                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000414   6ea7     MOVWF     0xa7,0x0                                                                                        
000416   82a6     BSF       0xa6,0x1,0x0     EECON1bits.WR = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
000418   8ef2     BSF       0xf2,0x7,0x0     INTCONbits.GIE = 1;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00041a   94a6     BCF       0xa6,0x2,0x0     EECON1bits.WREN = 0;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
00041c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
00041e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000420   ffd9                                                                                                               
000422   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //Read information from EEPROM                       //                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000424   cfd9     MOVFF     0xfd9,0xfe6    void ReadEEprom (unsigned char EEaddress)                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000426   ffe6                                                                                                               
000428   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00042a   ffd9                                                                                                               
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
00042c   94a6     BCF       0xa6,0x2,0x0     EECON1bits.WREN = 0; //clear write bit just in case                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00042e   b0a6     BTFSC     0xa6,0x0,0x0     while (EECON1bits.RD);  //wait for read cycle to complete, just in case        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000430   d7fe     BRA       0x42e                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000432   0efe     MOVLW     0xfe             EEADR = EEaddress;                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
000434   50db     MOVF      0xdb,0x0,0x0                                                                                    
000436   6ea9     MOVWF     0xa9,0x0                                                                                        
000438   9ea6     BCF       0xa6,0x7,0x0     EECON1bits.EEPGD = 0;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
00043a   9ca6     BCF       0xa6,0x6,0x0     EECON1bits.CFGS = 0;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
00043c   80a6     BSF       0xa6,0x0,0x0     EECON1bits.RD = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
00043e   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000440   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000442   ffd9                                                                                                               
000444   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Wait for PDO 4F8 with config data during BOOT period                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000446   cfd9     MOVFF     0xfd9,0xfe6    void WaitConfigurationData (void)                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000448   ffe6                                                                                                               
00044a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00044c   ffd9                                                                                                               
00044e   0e0a     MOVLW     0xa                                                                                             
000450   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000452   0e02     MOVLW     0x2            unsigned int Id_config,flash = 0;                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000454   6adb     CLRF      0xdb,0x0                                                                                        
000456   0e03     MOVLW     0x3                                                                                             
000458   6adb     CLRF      0xdb,0x0                                                                                        
                                           unsigned long int counter;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00045a   0e09     MOVLW     0x9            unsigned char i,valid = FALSE;                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
00045c   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00045e   0100     MOVLB     0x0             StatoUnita        = CAN_STATE_BOOTUP;                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000460   6be1     CLRF      0xe1,0x1                                                                                        
000462   0e80     MOVLW     0x80            CANCON 	= 0x80;		//initialize BUS                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000464   6e6f     MOVWF     0x6f,0x0                                                                                        
000466   ae6e     BTFSS     0x6e,0x7,0x0    while (CANSTATbits.OPMODE2 == 0); // wait for the module to enter configuration mode C:\Embedded\Tastiera CanOpenV.3.1\init.c
000468   d7fe     BRA       0x466                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00046a   0e43     MOVLW     0x43            BRGCON1 	= CAN_BAUD_125K;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00046c   6e70     MOVWF     0x70,0x0                                                                                        
00046e   0ebf     MOVLW     0xbf            BRGCON2 	= 0xBF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000470   6e71     MOVWF     0x71,0x0                                                                                        
000472   0e07     MOVLW     0x7             BRGCON3 	= 0x07;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000474   6e72     MOVWF     0x72,0x0                                                                                        
000476   0e20     MOVLW     0x20            CIOCON 	= 0x20;  	//gi:CAN IO pin                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000478   6e73     MOVWF     0x73,0x0                                                                                        
00047a   0e03     MOVLW     0x3             IPR3 		= 0x3;		//interrupt priority                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
00047c   6ea5     MOVWF     0xa5,0x0                                                                                        
00047e   0e03     MOVLW     0x3             PIE3 		= 0x3;		//RXB0,RXB1 ints                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000480   6ea3     MOVWF     0xa3,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // BOOT MSG WITH PARAMETERS                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000482   6ade     CLRF      0xde,0x0        Id_config	= BOOTUP_MSG*0x20;				//4F8                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000484   0e9f     MOVLW     0x9f                                                                                            
000486   6edd     MOVWF     0xdd,0x0                                                                                        
000488   cfde     MOVFF     0xfde,0x0       RXB_B [CAN_OPEN_IdNet].TXBSIDH = (Id_config  >> 8) & 0xFF;                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
00048a   f000                                                                                                               
00048c   cfdd     MOVFF     0xfdd,0x1                                                                                       
00048e   f001                                                                                                               
000490   c001     MOVFF     0x1,0x0                                                                                         
000492   f000                                                                                                               
000494   6a01     CLRF      0x1,0x0                                                                                         
000496   5000     MOVF      0x0,0x0,0x0                                                                                     
000498   0100     MOVLB     0x0                                                                                             
00049a   6fb2     MOVWF     0xb2,0x1                                                                                        
00049c   cfde     MOVFF     0xfde,0x0       RXB_B [CAN_OPEN_IdNet].TXBSIDL = Id_config & 0xE0;                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
00049e   f000                                                                                                               
0004a0   cfdd     MOVFF     0xfdd,0x1                                                                                       
0004a2   f001                                                                                                               
0004a4   0ee0     MOVLW     0xe0                                                                                            
0004a6   1400     ANDWF     0x0,0x0,0x0                                                                                     
0004a8   0100     MOVLB     0x0                                                                                             
0004aa   6fb1     MOVWF     0xb1,0x1                                                                                        
0004ac   0100     MOVLB     0x0             RXB_B [CAN_OPEN_IdNet].ST_B.IN = 0;                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004ae   9db3     BCF       0xb3,0x6,0x1                                                                                    
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004b0   c0b2     MOVFF     0xb2,0xf00      RXF0SIDH = RXB_B [CAN_OPEN_IdNet].TXBSIDH;                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004b2   ff00                                                                                                               
0004b4   c0b1     MOVFF     0xb1,0xf01      RXF0SIDL = RXB_B [CAN_OPEN_IdNet].TXBSIDL;                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004b6   ff01                                                                                                               
0004b8   8a60     BSF       0x60,0x5,0x0    RXB0CONbits.RXM0 = 1;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004ba   010f     MOVLB     0xf             RXB1CONbits.RXM0 = 1;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004bc   8b50     BSF       0x50,0x5,0x1                                                                                    
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Unused extended identifiers and filters                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004be   010f     MOVLB     0xf             RXM0SIDH = 0xFF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004c0   6918     SETF      0x18,0x1                                                                                        
0004c2   010f     MOVLB     0xf             RXM0SIDL = 0xFF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004c4   6919     SETF      0x19,0x1                                                                                        
0004c6   010f     MOVLB     0xf             RXM0EIDH = 0x00;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004c8   6b1a     CLRF      0x1a,0x1                                                                                        
0004ca   010f     MOVLB     0xf             RXM0EIDL = 0x00;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004cc   6b1b     CLRF      0x1b,0x1                                                                                        
0004ce   010f     MOVLB     0xf             RXM1SIDH = 0xFF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004d0   691c     SETF      0x1c,0x1                                                                                        
0004d2   010f     MOVLB     0xf             RXM1SIDL = 0xFF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004d4   691d     SETF      0x1d,0x1                                                                                        
0004d6   010f     MOVLB     0xf             RXM1EIDH = 0x00;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004d8   6b1e     CLRF      0x1e,0x1                                                                                        
0004da   010f     MOVLB     0xf             RXM1EIDL = 0x00;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004dc   6b1f     CLRF      0x1f,0x1                                                                                        
0004de   010f     MOVLB     0xf             RXF0EIDL = 0;RXF0EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004e0   6b03     CLRF      0x3,0x1                                                                                         
0004e2   010f     MOVLB     0xf                                                                                             
0004e4   6b02     CLRF      0x2,0x1                                                                                         
0004e6   010f     MOVLB     0xf             RXF1EIDL = 0;RXF1EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004e8   6b07     CLRF      0x7,0x1                                                                                         
0004ea   010f     MOVLB     0xf                                                                                             
0004ec   6b06     CLRF      0x6,0x1                                                                                         
0004ee   010f     MOVLB     0xf             RXF2EIDL = 0;RXF2EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004f0   6b0b     CLRF      0xb,0x1                                                                                         
0004f2   010f     MOVLB     0xf                                                                                             
0004f4   6b0a     CLRF      0xa,0x1                                                                                         
0004f6   010f     MOVLB     0xf             RXF3EIDL = 0;RXF3EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0004f8   6b0f     CLRF      0xf,0x1                                                                                         
0004fa   010f     MOVLB     0xf                                                                                             
0004fc   6b0e     CLRF      0xe,0x1                                                                                         
0004fe   010f     MOVLB     0xf             RXF4EIDL = 0;RXF4EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000500   6b13     CLRF      0x13,0x1                                                                                        
000502   010f     MOVLB     0xf                                                                                             
000504   6b12     CLRF      0x12,0x1                                                                                        
000506   010f     MOVLB     0xf             RXF5EIDL = 0;RXF5EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000508   6b17     CLRF      0x17,0x1                                                                                        
00050a   010f     MOVLB     0xf                                                                                             
00050c   6b16     CLRF      0x16,0x1                                                                                        
00050e   cf00     MOVFF     0xf00,0xf04     RXF1SIDH = RXF0SIDH;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000510   ff04                                                                                                               
000512   cf01     MOVFF     0xf01,0xf05     RXF1SIDL = RXF0SIDL;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000514   ff05                                                                                                               
000516   cf00     MOVFF     0xf00,0xf08     RXF2SIDH = RXF0SIDH;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000518   ff08                                                                                                               
00051a   cf01     MOVFF     0xf01,0xf09     RXF2SIDL = RXF0SIDL;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00051c   ff09                                                                                                               
00051e   cf00     MOVFF     0xf00,0xf0c     RXF3SIDH = RXF0SIDH;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000520   ff0c                                                                                                               
000522   cf01     MOVFF     0xf01,0xf0d     RXF3SIDL = RXF0SIDL;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000524   ff0d                                                                                                               
000526   cf00     MOVFF     0xf00,0xf10     RXF4SIDH = RXF0SIDH;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000528   ff10                                                                                                               
00052a   cf01     MOVFF     0xf01,0xf11     RXF4SIDL = RXF0SIDL;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00052c   ff11                                                                                                               
00052e   cf00     MOVFF     0xf00,0xf14     RXF5SIDH = RXF0SIDH;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000530   ff14                                                                                                               
000532   cf01     MOVFF     0xf01,0xf15     RXF5SIDL = RXF0SIDL;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000534   ff15                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000536   0e0f     MOVLW     0xf             CANCON &= 0x0F;                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000538   166f     ANDWF     0x6f,0x1,0x0                                                                                    
00053a   be6e     BTFSC     0x6e,0x7,0x0    while (CANSTATbits.OPMODE2 == 1); // wait for the module to enter normal mode   C:\Embedded\Tastiera CanOpenV.3.1\init.c
00053c   d7fe     BRA       0x53a                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00053e   8cf2     BSF       0xf2,0x6,0x0    INTCONbits.PEIE = 1;		// Enable peripheral interrupts                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000540   8ef2     BSF       0xf2,0x7,0x0    INTCONbits.GIE = 1;		// Enable all interrupts                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000542   0ef8     MOVLW     0xf8             Id_config = BOOT_REPLY;				//3F8                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000544   6ede     MOVWF     0xde,0x0                                                                                        
000546   0e03     MOVLW     0x3                                                                                             
000548   6edd     MOVWF     0xdd,0x0                                                                                        
00054a   cfd9     MOVFF     0xfd9,0xfe9      Id_config  <<=5;                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
00054c   ffe9                                                                                                               
00054e   cfda     MOVFF     0xfda,0xfea                                                                                     
000550   ffea                                                                                                               
000552   0e05     MOVLW     0x5                                                                                             
000554   90d8     BCF       0xd8,0x0,0x0                                                                                    
000556   36ee     RLCF      0xee,0x1,0x0                                                                                    
000558   36ed     RLCF      0xed,0x1,0x0                                                                                    
00055a   06e8     DECF      0xe8,0x1,0x0                                                                                    
00055c   e1fb     BNZ       0x554                                                                                           
00055e   cfde     MOVFF     0xfde,0x0        TXB0SIDH 	= (Id_config  >> 8) & 0xFF;                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000560   f000                                                                                                               
000562   cfdd     MOVFF     0xfdd,0x1                                                                                       
000564   f001                                                                                                               
000566   c001     MOVFF     0x1,0x0                                                                                         
000568   f000                                                                                                               
00056a   6a01     CLRF      0x1,0x0                                                                                         
00056c   5000     MOVF      0x0,0x0,0x0                                                                                     
00056e   010f     MOVLB     0xf                                                                                             
000570   6f41     MOVWF     0x41,0x1                                                                                        
000572   cfde     MOVFF     0xfde,0x0        TXB0SIDL 	= Id_config & 0xE0;                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000574   f000                                                                                                               
000576   cfdd     MOVFF     0xfdd,0x1                                                                                       
000578   f001                                                                                                               
00057a   0ee0     MOVLW     0xe0                                                                                            
00057c   1400     ANDWF     0x0,0x0,0x0                                                                                     
00057e   010f     MOVLB     0xf                                                                                             
000580   6f42     MOVWF     0x42,0x1                                                                                        
000582   010f     MOVLB     0xf              TXB0DLC	= 6;                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
000584   0e06     MOVLW     0x6                                                                                             
000586   6f45     MOVWF     0x45,0x1                                                                                        
000588   010f     MOVLB     0xf              TXB0D0	= 0;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
00058a   6b46     CLRF      0x46,0x1                                                                                        
00058c   010f     MOVLB     0xf              TXB0D1	= 0;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
00058e   6b47     CLRF      0x47,0x1                                                                                        
000590   010f     MOVLB     0xf              TXB0D2	= 0;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
000592   6b48     CLRF      0x48,0x1                                                                                        
000594   010f     MOVLB     0xf              TXB0D3	= 0;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
000596   6b49     CLRF      0x49,0x1                                                                                        
000598   010f     MOVLB     0xf              TXB0D4	= 0;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
00059a   6b4a     CLRF      0x4a,0x1                                                                                        
00059c   010f     MOVLB     0xf              TXB0D5	= 0;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
00059e   6b4b     CLRF      0x4b,0x1                                                                                        
0005a0   0e04     MOVLW     0x4              counter	= 0 ;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005a2   6adb     CLRF      0xdb,0x0                                                                                        
0005a4   0e05     MOVLW     0x5                                                                                             
0005a6   6adb     CLRF      0xdb,0x0                                                                                        
0005a8   0e06     MOVLW     0x6                                                                                             
0005aa   6adb     CLRF      0xdb,0x0                                                                                        
0005ac   0e07     MOVLW     0x7                                                                                             
0005ae   6adb     CLRF      0xdb,0x0                                                                                        
0005b0   0e02     MOVLW     0x2              flash 	= 0;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005b2   6adb     CLRF      0xdb,0x0                                                                                        
0005b4   0e03     MOVLW     0x3                                                                                             
0005b6   6adb     CLRF      0xdb,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                             do                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           	{								//wait here until configuration is received                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005b8   0004     CLRWDT                       _asm clrwdt _endasm                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005ba   0e02     MOVLW     0x2            	PORTE  = 0x02;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005bc   6e84     MOVWF     0x84,0x0                                                                                        
0005be   50d9     MOVF      0xd9,0x0,0x0       if (counter++ >= 80000)                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005c0   0f04     ADDLW     0x4                                                                                             
0005c2   6ee9     MOVWF     0xe9,0x0                                                                                        
0005c4   cfda     MOVFF     0xfda,0xfea                                                                                     
0005c6   ffea                                                                                                               
0005c8   cfef     MOVFF     0xfef,0x0                                                                                       
0005ca   f000                                                                                                               
0005cc   2aee     INCF      0xee,0x1,0x0                                                                                    
0005ce   0e00     MOVLW     0x0                                                                                             
0005d0   cfef     MOVFF     0xfef,0x1                                                                                       
0005d2   f001                                                                                                               
0005d4   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
0005d6   cfef     MOVFF     0xfef,0x2                                                                                       
0005d8   f002                                                                                                               
0005da   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
0005dc   cfef     MOVFF     0xfef,0x3                                                                                       
0005de   f003                                                                                                               
0005e0   22ef     ADDWFC    0xef,0x1,0x0                                                                                    
0005e2   0e80     MOVLW     0x80                                                                                            
0005e4   5c00     SUBWF     0x0,0x0,0x0                                                                                     
0005e6   0e38     MOVLW     0x38                                                                                            
0005e8   5801     SUBWFB    0x1,0x0,0x0                                                                                     
0005ea   0e01     MOVLW     0x1                                                                                             
0005ec   5802     SUBWFB    0x2,0x0,0x0                                                                                     
0005ee   0e00     MOVLW     0x0                                                                                             
0005f0   5803     SUBWFB    0x3,0x0,0x0                                                                                     
0005f2   e30a     BNC       0x608                                                                                           
                                                	{                                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005f4   1e83     COMF      0x83,0x1,0x0   	    PORTD ^= 0xFF;                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005f6   1e82     COMF      0x82,0x1,0x0   	    PORTC ^= 0xFF;                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005f8   0e04     MOVLW     0x4            	    counter = 0;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0005fa   6adb     CLRF      0xdb,0x0                                                                                        
0005fc   0e05     MOVLW     0x5                                                                                             
0005fe   6adb     CLRF      0xdb,0x0                                                                                        
000600   0e06     MOVLW     0x6                                                                                             
000602   6adb     CLRF      0xdb,0x0                                                                                        
000604   0e07     MOVLW     0x7                                                                                             
000606   6adb     CLRF      0xdb,0x0                                                                                        
                                           	 	}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000608   0100     MOVLB     0x0                if (RXB_B [CAN_OPEN_IdNet].ST_B.IN)		//NMT COB-ID=x4F8                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00060a   adb3     BTFSS     0xb3,0x6,0x1                                                                                    
00060c   d057     BRA       0x6bc                                                                                           
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
00060e   0100     MOVLB     0x0            		RXB_B [CAN_OPEN_IdNet].ST_B.IN=0;                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
000610   9db3     BCF       0xb3,0x6,0x1                                                                                    
000612   0100     MOVLB     0x0            		Id = RXB_B [CAN_OPEN_IdNet].TXBD0;                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
000614   51af     MOVF      0xaf,0x0,0x1                                                                                    
000616   0100     MOVLB     0x0                                                                                             
000618   6fc0     MOVWF     0xc0,0x1                                                                                        
00061a   6bc1     CLRF      0xc1,0x1                                                                                        
00061c   0100     MOVLB     0x0            		if (Id <= 0x0F)                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
00061e   0e0f     MOVLW     0xf                                                                                             
000620   80d8     BSF       0xd8,0x0,0x0                                                                                    
000622   55c0     SUBFWB    0xc0,0x0,0x1                                                                                    
000624   0e00     MOVLW     0x0                                                                                             
000626   55c1     SUBFWB    0xc1,0x0,0x1                                                                                    
000628   e33b     BNC       0x6a0                                                                                           
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
00062a   0e01     MOVLW     0x1            			valid=TRUE;                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
00062c   6ef3     MOVWF     0xf3,0x0                                                                                        
00062e   0e09     MOVLW     0x9                                                                                             
000630   cff3     MOVFF     0xff3,0xfdb                                                                                     
000632   ffdb                                                                                                               
000634   c0c0     MOVFF     0xc0,0xfe6     			WriteEEprom (EEPROM_ID,Id);                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
000636   ffe6                                                                                                               
000638   6ae6     CLRF      0xe6,0x0                                                                                        
00063a   ded9     RCALL     0x3ee                                                                                           
00063c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00063e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000640   c0ae     MOVFF     0xae,0xfe6     			WriteEEprom (EEPROM_CAN_BAUDRATE,RXB_B[CAN_OPEN_IdNet].TXBD1);                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000642   ffe6                                                                                                               
000644   0e01     MOVLW     0x1                                                                                             
000646   6ee6     MOVWF     0xe6,0x0                                                                                        
000648   ded2     RCALL     0x3ee                                                                                           
00064a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00064c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00064e   c0ad     MOVFF     0xad,0xfe6     			WriteEEprom (EEPROM_HEART_BEAT,RXB_B[CAN_OPEN_IdNet].TXBD2);                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000650   ffe6                                                                                                               
000652   0e02     MOVLW     0x2                                                                                             
000654   6ee6     MOVWF     0xe6,0x0                                                                                        
000656   decb     RCALL     0x3ee                                                                                           
000658   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00065a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00065c   c0ac     MOVFF     0xac,0xfe6     			WriteEEprom (EEPROM_HEART_BEAT+1,RXB_B[CAN_OPEN_IdNet].TXBD3);                C:\Embedded\Tastiera CanOpenV.3.1\init.c
00065e   ffe6                                                                                                               
000660   0e03     MOVLW     0x3                                                                                             
000662   6ee6     MOVWF     0xe6,0x0                                                                                        
000664   dec4     RCALL     0x3ee                                                                                           
000666   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000668   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00066a   c0ab     MOVFF     0xab,0xfe6     			WriteEEprom (EEPROM_SYNC_TIME,RXB_B[CAN_OPEN_IdNet].TXBD4);                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
00066c   ffe6                                                                                                               
00066e   0e04     MOVLW     0x4                                                                                             
000670   6ee6     MOVWF     0xe6,0x0                                                                                        
000672   debd     RCALL     0x3ee                                                                                           
000674   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000676   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000678   c0aa     MOVFF     0xaa,0xfe6     			WriteEEprom (EEPROM_DEBOUNCE_RATE,RXB_B[CAN_OPEN_IdNet].TXBD5);               C:\Embedded\Tastiera CanOpenV.3.1\init.c
00067a   ffe6                                                                                                               
00067c   0e05     MOVLW     0x5                                                                                             
00067e   6ee6     MOVWF     0xe6,0x0                                                                                        
000680   deb6     RCALL     0x3ee                                                                                           
000682   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000684   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                           			//                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000686   c0af     MOVFF     0xaf,0xf46     			TXB0D0	 = RXB_B [CAN_OPEN_IdNet].TXBD0;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000688   ff46                                                                                                               
00068a   c0ae     MOVFF     0xae,0xf47     			TXB0D1	 = RXB_B [CAN_OPEN_IdNet].TXBD1;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00068c   ff47                                                                                                               
00068e   c0ad     MOVFF     0xad,0xf48     			TXB0D2	 = RXB_B [CAN_OPEN_IdNet].TXBD2;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000690   ff48                                                                                                               
000692   c0ac     MOVFF     0xac,0xf49     			TXB0D3	 = RXB_B [CAN_OPEN_IdNet].TXBD3;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000694   ff49                                                                                                               
000696   c0ab     MOVFF     0xab,0xf4a     			TXB0D4	 = RXB_B [CAN_OPEN_IdNet].TXBD4;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000698   ff4a                                                                                                               
00069a   c0aa     MOVFF     0xaa,0xf4b     			TXB0D5	 = RXB_B [CAN_OPEN_IdNet].TXBD5;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00069c   ff4b                                                                                                               
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
00069e   d00e     BRA       0x6bc          		else						//invalid Id, reply once with 0s                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006a0   0e08     MOVLW     0x8            			for (i=0 ; i <= 2 ;i++)                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006a2   6adb     CLRF      0xdb,0x0                                                                                        
0006a4   0e08     MOVLW     0x8                                                                                             
0006a6   50db     MOVF      0xdb,0x0,0x0                                                                                    
0006a8   0802     SUBLW     0x2                                                                                             
0006aa   e308     BNC       0x6bc                                                                                           
0006b6   0e08     MOVLW     0x8                                                                                             
0006b8   2adb     INCF      0xdb,0x1,0x0                                                                                    
0006ba   d7f4     BRA       0x6a4                                                                                           
                                           				{                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006ac   010f     MOVLB     0xf            				for ( ; TXB0CONbits.TXREQ ; );                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006ae   b740     BTFSC     0x40,0x3,0x1                                                                                    
0006b0   d7fd     BRA       0x6ac                                                                                           
0006b2   010f     MOVLB     0xf            				TXB0CONbits.TXREQ = 1;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006b4   8740     BSF       0x40,0x3,0x1                                                                                    
                                           				}                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           		}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006bc   0e09     MOVLW     0x9            	} while (!valid);                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006be   50db     MOVF      0xdb,0x0,0x0                                                                                    
0006c0   e101     BNZ       0x6c4                                                                                           
0006c2   d77a     BRA       0x5b8                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006c4   0e04     MOVLW     0x4            	counter=0;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006c6   6adb     CLRF      0xdb,0x0                                                                                        
0006c8   0e05     MOVLW     0x5                                                                                             
0006ca   6adb     CLRF      0xdb,0x0                                                                                        
0006cc   0e06     MOVLW     0x6                                                                                             
0006ce   6adb     CLRF      0xdb,0x0                                                                                        
0006d0   0e07     MOVLW     0x7                                                                                             
0006d2   6adb     CLRF      0xdb,0x0                                                                                        
0006d4   0e02     MOVLW     0x2            	flash = 0xFF;                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006d6   68db     SETF      0xdb,0x0                                                                                        
0006d8   0e03     MOVLW     0x3                                                                                             
0006da   6adb     CLRF      0xdb,0x0                                                                                        
0006dc   6883     SETF      0x83,0x0       	PORTD = 0xFF;                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006de   6882     SETF      0x82,0x0       	PORTC = 0xFF;                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000776   d7b4     BRA       0x6e0          	for (;;)	// no return from here!!!                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006e0   0004     CLRWDT                   		_asm clrwdt _endasm                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006e2   50d9     MOVF      0xd9,0x0,0x0   		do {counter++; } while (counter <= 50000);                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
0006e4   0f04     ADDLW     0x4                                                                                             
0006e6   6ee9     MOVWF     0xe9,0x0                                                                                        
0006e8   cfda     MOVFF     0xfda,0xfea                                                                                     
0006ea   ffea                                                                                                               
0006ec   2aee     INCF      0xee,0x1,0x0                                                                                    
0006ee   0e00     MOVLW     0x0                                                                                             
0006f0   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
0006f2   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
0006f4   22ee     ADDWFC    0xee,0x1,0x0                                                                                    
0006f6   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0006f8   0f04     ADDLW     0x4                                                                                             
0006fa   6ee9     MOVWF     0xe9,0x0                                                                                        
0006fc   cfda     MOVFF     0xfda,0xfea                                                                                     
0006fe   ffea                                                                                                               
000700   80d8     BSF       0xd8,0x0,0x0                                                                                    
000702   0e50     MOVLW     0x50                                                                                            
000704   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
000706   0ec3     MOVLW     0xc3                                                                                            
000708   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00070a   0e00     MOVLW     0x0                                                                                             
00070c   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
00070e   0e00     MOVLW     0x0                                                                                             
000710   54ee     SUBFWB    0xee,0x0,0x0                                                                                    
000712   e2e7     BC        0x6e2                                                                                           
000714   0e04     MOVLW     0x4            		counter=0;                                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000716   6adb     CLRF      0xdb,0x0                                                                                        
000718   0e05     MOVLW     0x5                                                                                             
00071a   6adb     CLRF      0xdb,0x0                                                                                        
00071c   0e06     MOVLW     0x6                                                                                             
00071e   6adb     CLRF      0xdb,0x0                                                                                        
000720   0e07     MOVLW     0x7                                                                                             
000722   6adb     CLRF      0xdb,0x0                                                                                        
000724   0e02     MOVLW     0x2            		PORTC = flash;                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000726   50db     MOVF      0xdb,0x0,0x0                                                                                    
000728   6e82     MOVWF     0x82,0x0                                                                                        
00072a   0e02     MOVLW     0x2            		PORTD = flash;                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
00072c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00072e   6e83     MOVWF     0x83,0x0                                                                                        
000730   50d9     MOVF      0xd9,0x0,0x0   	 	flash <<= 1;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000732   0f02     ADDLW     0x2                                                                                             
000734   6ee9     MOVWF     0xe9,0x0                                                                                        
000736   cfda     MOVFF     0xfda,0xfea                                                                                     
000738   ffea                                                                                                               
00073a   0e01     MOVLW     0x1                                                                                             
00073c   90d8     BCF       0xd8,0x0,0x0                                                                                    
00073e   36ee     RLCF      0xee,0x1,0x0                                                                                    
000740   36ed     RLCF      0xed,0x1,0x0                                                                                    
000742   06e8     DECF      0xe8,0x1,0x0                                                                                    
000744   e1fb     BNZ       0x73c                                                                                           
000746   50d9     MOVF      0xd9,0x0,0x0   		flash &= 0xFE;                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000748   0f02     ADDLW     0x2                                                                                             
00074a   6ee9     MOVWF     0xe9,0x0                                                                                        
00074c   cfda     MOVFF     0xfda,0xfea                                                                                     
00074e   ffea                                                                                                               
000750   90ee     BCF       0xee,0x0,0x0                                                                                    
000752   6aed     CLRF      0xed,0x0                                                                                        
000754   50d9     MOVF      0xd9,0x0,0x0   	 	if (!flash) flash = 0xFF;                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000756   0f02     ADDLW     0x2                                                                                             
000758   6ee9     MOVWF     0xe9,0x0                                                                                        
00075a   cfda     MOVFF     0xfda,0xfea                                                                                     
00075c   ffea                                                                                                               
00075e   50ee     MOVF      0xee,0x0,0x0                                                                                    
000760   10ed     IORWF     0xed,0x0,0x0                                                                                    
000762   e104     BNZ       0x76c                                                                                           
000764   0e02     MOVLW     0x2                                                                                             
000766   68db     SETF      0xdb,0x0                                                                                        
000768   0e03     MOVLW     0x3                                                                                             
00076a   6adb     CLRF      0xdb,0x0                                                                                        
00076c   010f     MOVLB     0xf            		if (TXB0CONbits.TXREQ == 0)                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
00076e   b740     BTFSC     0x40,0x3,0x1                                                                                    
000770   d002     BRA       0x776                                                                                           
000772   010f     MOVLB     0xf            			TXB0CONbits.TXREQ = 1;                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000774   8740     BSF       0x40,0x3,0x1                                                                                    
                                           		}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000778   0e0a     MOVLW     0xa            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
00077a   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00077c   e202     BC        0x782                                                                                           
00077e   6ae1     CLRF      0xe1,0x0                                                                                        
000780   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000782   6ee1     MOVWF     0xe1,0x0                                                                                        
000784   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000786   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000788   ffd9                                                                                                               
00078a   0012     RETURN    0x0                                                                                             
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Initialize the processor                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           void                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
00078c   cfd9     MOVFF     0xfd9,0xfe6    init_cip ( void )                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
00078e   ffe6                                                                                                               
000790   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000792   ffd9                                                                                                               
000794   0e03     MOVLW     0x3                                                                                             
000796   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            unsigned char i,j,baud_rate;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000798   0100     MOVLB     0x0             StatoUnita        = CAN_STATE_INITIALISING;                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
00079a   0e83     MOVLW     0x83                                                                                            
00079c   6fe1     MOVWF     0xe1,0x1                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // inizializzazione porte                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00079e   6ac2     CLRF      0xc2,0x0        ADCON0 = 0x00;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007a0   0e0f     MOVLW     0xf             ADCON1 = 0x0F;		//all digital ports * change for PIC18F4580 (Ver. 3.0)          C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007a2   6ec1     MOVWF     0xc1,0x0                                                                                        
                                           // ADCON1 = 0x07;		//gi: all digital ports                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007a4   0e07     MOVLW     0x7             CMCON  = 0x07;		//gi: comparator OFF                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007a6   6eb4     MOVWF     0xb4,0x0                                                                                        
0007a8   6abd     CLRF      0xbd,0x0        CCP1CON = 0x00;	//gi: CCP modules off                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007aa   6892     SETF      0x92,0x0        TRISA = 0xFF;                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // TRISB = 0x8B;		//RB0, RB1 = KEYPAD, RB4..RB7 = ROWS KEYPAD                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007ac   0e0b     MOVLW     0xb             TRISB = 0x0B;		//RB0, RB1 = KEYPAD, RB4..RB7 = ROWS KEYPAD                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007ae   6e93     MOVWF     0x93,0x0                                                                                        
0007b0   6a94     CLRF      0x94,0x0        TRISC = 0;			//LEDS OUT                                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007b2   6a95     CLRF      0x95,0x0        TRISD = 0;			//LEDs OUT                                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007b4   6a96     CLRF      0x96,0x0        TRISE = 0; 		//RE0, RE1, RE2 = LED & KEYPAD COMMON                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007b6   6a80     CLRF      0x80,0x0        PORTA = 0;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007b8   6a81     CLRF      0x81,0x0        PORTB = 0;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007ba   6a82     CLRF      0x82,0x0        PORTC = 0;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007bc   6a83     CLRF      0x83,0x0        PORTD = 0;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007be   6a84     CLRF      0x84,0x0        PORTE = 0;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007c0   0100     MOVLB     0x0             row_count = 3;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007c2   0e03     MOVLW     0x3                                                                                             
0007c4   6ffc     MOVWF     0xfc,0x1                                                                                        
0007c6   ec45     CALL      0x108a,0x0      ReadKeypad();	// read key states                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007c8   f008                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007ca   0100     MOVLB     0x0             if (KEY_PAD_NEW[3].col_5 && KEY_PAD_NEW[3].col_6)		//2 buttons pressed with common RE2 C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007cc   51e6     MOVF      0xe6,0x0,0x1                                                                                    
0007ce   0b20     ANDLW     0x20                                                                                            
0007d0   e004     BZ        0x7da                                                                                           
0007d2   51e6     MOVF      0xe6,0x0,0x1                                                                                    
0007d4   0b40     ANDLW     0x40                                                                                            
0007d6   e001     BZ        0x7da                                                                                           
0007d8   de36     RCALL     0x446          	WaitConfigurationData();                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007da   94a6     BCF       0xa6,0x2,0x0    EECON1bits.WREN = 0; //clear write bit just in case                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007dc   6ae6     CLRF      0xe6,0x0        ReadEEprom(EEPROM_ID);                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007de   de22     RCALL     0x424                                                                                           
0007e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0007e2   50a8     MOVF      0xa8,0x0,0x0    Id = EEDATA;                                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007e4   0100     MOVLB     0x0                                                                                             
0007e6   6fc0     MOVWF     0xc0,0x1                                                                                        
0007e8   6bc1     CLRF      0xc1,0x1                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007ea   0e02     MOVLW     0x2             ReadEEprom(EEPROM_HEART_BEAT);                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007ec   6ee6     MOVWF     0xe6,0x0                                                                                        
0007ee   de1a     RCALL     0x424                                                                                           
0007f0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0007f2   cfa8     MOVFF     0xfa8,0xc6      heartbeat_rate.high_byte = EEDATA;                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007f4   f0c6                                                                                                               
0007f6   cfa8     MOVFF     0xfa8,0xc4      heartbeat_count.high_byte = EEDATA;                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007f8   f0c4                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007fa   0e03     MOVLW     0x3             ReadEEprom(EEPROM_HEART_BEAT+1);                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0007fc   6ee6     MOVWF     0xe6,0x0                                                                                        
0007fe   de12     RCALL     0x424                                                                                           
000800   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000802   cfa8     MOVFF     0xfa8,0xc5      heartbeat_rate.low_byte = EEDATA;                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000804   f0c5                                                                                                               
000806   cfa8     MOVFF     0xfa8,0xc3      heartbeat_count.low_byte = EEDATA;                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
000808   f0c3                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00080a   0e05     MOVLW     0x5             ReadEEprom(EEPROM_DEBOUNCE_RATE);                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
00080c   6ee6     MOVWF     0xe6,0x0                                                                                        
00080e   de0a     RCALL     0x424                                                                                           
000810   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000812   28a8     INCF      0xa8,0x0,0x0    debounce_period = (EEDATA+1)/2;	//debounce period given in 10ms, adjusted for 21ms cycle C:\Embedded\Tastiera CanOpenV.3.1\init.c
000814   0bfe     ANDLW     0xfe                                                                                            
000816   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000818   0100     MOVLB     0x0                                                                                             
00081a   6fc8     MOVWF     0xc8,0x1                                                                                        
00081c   28a8     INCF      0xa8,0x0,0x0    debounce_count =  (EEDATA+1)/2;                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
00081e   0bfe     ANDLW     0xfe                                                                                            
000820   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000822   0100     MOVLB     0x0                                                                                             
000824   6fc7     MOVWF     0xc7,0x1                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           /*-------------- debug --------------                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            Id=3; //debug                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            baud_rate = 2;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            heartbeat_rate.high_byte = 3; //debug                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            heartbeat_count.high_byte = 3;                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            heartbeat_rate.low_byte = 0x0E8; //debug                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            heartbeat_count.low_byte = 0x0E8;                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            debounce_period = 0x03; //debug                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            debounce_count = 0x03;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           -------------- debug --------------                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           */                                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000826   0e01     MOVLW     0x1             ReadEEprom(EEPROM_CAN_BAUDRATE);                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000828   6ee6     MOVWF     0xe6,0x0                                                                                        
00082a   ddfc     RCALL     0x424                                                                                           
00082c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00082e   0e02     MOVLW     0x2             baud_rate = EEDATA;                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
000830   cfa8     MOVFF     0xfa8,0xfdb                                                                                     
000832   ffdb                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000834   50db     MOVF      0xdb,0x0,0x0    switch (baud_rate)			//translate baud rate number to BRGCOM1                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
000836   0a06     XORLW     0x6                                                                                             
000838   e029     BZ        0x88c                                                                                           
00083a   0a03     XORLW     0x3                                                                                             
00083c   e021     BZ        0x880                                                                                           
00083e   0a01     XORLW     0x1                                                                                             
000840   e019     BZ        0x874                                                                                           
000842   0a07     XORLW     0x7                                                                                             
000844   e011     BZ        0x868                                                                                           
000846   0a01     XORLW     0x1                                                                                             
000848   e009     BZ        0x85c                                                                                           
00084a   0a03     XORLW     0x3                                                                                             
00084c   e001     BZ        0x850                                                                                           
00084e   d024     BRA       0x898                                                                                           
                                            	{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           	 case 1:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000850   0e40     MOVLW     0x40           	 	baud_rate = CAN_BAUD_500K;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
000852   6ef3     MOVWF     0xf3,0x0                                                                                        
000854   0e02     MOVLW     0x2                                                                                             
000856   cff3     MOVFF     0xff3,0xfdb                                                                                     
000858   ffdb                                                                                                               
00085a   d023     BRA       0x8a2          	 	break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           	 case 2:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
00085c   0e41     MOVLW     0x41           	 	baud_rate = CAN_BAUD_250K;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
00085e   6ef3     MOVWF     0xf3,0x0                                                                                        
000860   0e02     MOVLW     0x2                                                                                             
000862   cff3     MOVFF     0xff3,0xfdb                                                                                     
000864   ffdb                                                                                                               
000866   d01d     BRA       0x8a2          	 	break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           	 case 3:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000868   0e43     MOVLW     0x43           	 	baud_rate = CAN_BAUD_125K;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
00086a   6ef3     MOVWF     0xf3,0x0                                                                                        
00086c   0e02     MOVLW     0x2                                                                                             
00086e   cff3     MOVFF     0xff3,0xfdb                                                                                     
000870   ffdb                                                                                                               
000872   d017     BRA       0x8a2          	 	break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           	 case 4:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000874   0e44     MOVLW     0x44           	 	baud_rate = CAN_BAUD_100K;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
000876   6ef3     MOVWF     0xf3,0x0                                                                                        
000878   0e02     MOVLW     0x2                                                                                             
00087a   cff3     MOVFF     0xff3,0xfdb                                                                                     
00087c   ffdb                                                                                                               
00087e   d011     BRA       0x8a2          	 	break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           	 case 5:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000880   0e49     MOVLW     0x49           	 	baud_rate = CAN_BAUD_50K;                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000882   6ef3     MOVWF     0xf3,0x0                                                                                        
000884   0e02     MOVLW     0x2                                                                                             
000886   cff3     MOVFF     0xff3,0xfdb                                                                                     
000888   ffdb                                                                                                               
00088a   d00b     BRA       0x8a2          	 	break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           	 case 6:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
00088c   0e58     MOVLW     0x58           	 	baud_rate = CAN_BAUD_20K;                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
00088e   6ef3     MOVWF     0xf3,0x0                                                                                        
000890   0e02     MOVLW     0x2                                                                                             
000892   cff3     MOVFF     0xff3,0xfdb                                                                                     
000894   ffdb                                                                                                               
000896   d005     BRA       0x8a2          	 	break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           	 default:                                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000898   0e41     MOVLW     0x41           	 	baud_rate = CAN_BAUD_250K;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
00089a   6ef3     MOVWF     0xf3,0x0                                                                                        
00089c   0e02     MOVLW     0x2                                                                                             
00089e   cff3     MOVFF     0xff3,0xfdb                                                                                     
0008a0   ffdb                                                                                                               
                                           	}                                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008a2   6ac7     CLRF      0xc7,0x0        SSPSTAT        = 0;		//gi: NO SPI                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008a4   6ac6     CLRF      0xc6,0x0        SSPCON1        = 0;		//gi:                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008a6   6ac5     CLRF      0xc5,0x0        SSPCON2        = 0;		//gi:                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // ---------- Received messages -------                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // Receive PDO - ON LEDS (20xH)                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008a8   c0c0     MOVFF     0xc0,0x100      Id_p.Id_low 	= Id;				//low, high: to get around compiler problems...           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008aa   f100                                                                                                               
0008ac   0101     MOVLB     0x1             Id_p.Id_high	= 2;                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008ae   6f01     MOVWF     0x1,0x1                                                                                         
0008b0   0e05     MOVLW     0x5             Id_p.Idword  <<=5;                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008b2   90d8     BCF       0xd8,0x0,0x0                                                                                    
0008b4   3700     RLCF      0x0,0x1,0x1                                                                                     
0008b6   3701     RLCF      0x1,0x1,0x1                                                                                     
0008b8   06e8     DECF      0xe8,0x1,0x0                                                                                    
0008ba   e1fb     BNZ       0x8b2                                                                                           
0008bc   c101     MOVFF     0x101,0x0       RXB_B [CAN_OPEN_PDO1].TXBSIDH = (Id_p.Idword  >> 8) & 0xFF;  //TXBSIDH<SD10....SD3> C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008be   f000                                                                                                               
0008c0   6a01     CLRF      0x1,0x0                                                                                         
0008c2   5000     MOVF      0x0,0x0,0x0                                                                                     
0008c4   0100     MOVLB     0x0                                                                                             
0008c6   6f9a     MOVWF     0x9a,0x1                                                                                        
0008c8   0ee0     MOVLW     0xe0            RXB_B [CAN_OPEN_PDO1].TXBSIDL = Id_p.Idword & 0xE0;	  //TXBSIDL<SD2...SD0>,<EXIDE>=0=standard id C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008ca   0101     MOVLB     0x1                                                                                             
0008cc   1500     ANDWF     0x0,0x0,0x1                                                                                     
0008ce   0100     MOVLB     0x0                                                                                             
0008d0   6f99     MOVWF     0x99,0x1                                                                                        
0008d2   6b9b     CLRF      0x9b,0x1        RXB_B [CAN_OPEN_PDO1].ST_B.STATO_TX_B = 0;                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // Receive PDO - Blink LEDS (30xH)                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008d4   c0c0     MOVFF     0xc0,0x100      Id_p.Id_low	= Id ;                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008d6   f100                                                                                                               
0008d8   0101     MOVLB     0x1             Id_p.Id_high	= 3;                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008da   0e03     MOVLW     0x3                                                                                             
0008dc   6f01     MOVWF     0x1,0x1                                                                                         
0008de   0e05     MOVLW     0x5             Id_p.Idword  <<=5;                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008e0   90d8     BCF       0xd8,0x0,0x0                                                                                    
0008e2   3700     RLCF      0x0,0x1,0x1                                                                                     
0008e4   3701     RLCF      0x1,0x1,0x1                                                                                     
0008e6   06e8     DECF      0xe8,0x1,0x0                                                                                    
0008e8   e1fb     BNZ       0x8e0                                                                                           
0008ea   c101     MOVFF     0x101,0x0       RXB_B [CAN_OPEN_PDO2].TXBSIDH = (Id_p.Idword  >> 8) & 0xFF;                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008ec   f000                                                                                                               
0008ee   6a01     CLRF      0x1,0x0                                                                                         
0008f0   5000     MOVF      0x0,0x0,0x0                                                                                     
0008f2   0100     MOVLB     0x0                                                                                             
0008f4   6fa6     MOVWF     0xa6,0x1                                                                                        
0008f6   0ee0     MOVLW     0xe0            RXB_B [CAN_OPEN_PDO2].TXBSIDL = Id_p.Idword & 0xE0;                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
0008f8   0101     MOVLB     0x1                                                                                             
0008fa   1500     ANDWF     0x0,0x0,0x1                                                                                     
0008fc   0100     MOVLB     0x0                                                                                             
0008fe   6fa5     MOVWF     0xa5,0x1                                                                                        
000900   6ba7     CLRF      0xa7,0x1        RXB_B [CAN_OPEN_PDO2].ST_B.STATO_TX_B = 0;                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // Dati recezione dati di gestione rete                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
000902   6bb2     CLRF      0xb2,0x1        RXB_B [CAN_OPEN_IdNet].TXBSIDH = 0x00;                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000904   6bb1     CLRF      0xb1,0x1        RXB_B [CAN_OPEN_IdNet].TXBSIDL = 0x00;                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000906   6bb3     CLRF      0xb3,0x1        RXB_B [CAN_OPEN_IdNet].ST_B.STATO_TX_B = 0;                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // start CANBUS                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000908   0e30     MOVLW     0x30            CANCON 	= 0x30;					// ERRATA, go through disable mode before config....?       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00090a   6e6f     MOVWF     0x6f,0x0                                                                                        
00090c   aa6e     BTFSS     0x6e,0x5,0x0    while (CANSTATbits.OPMODE0 == 0);	// wait for the module to enter disable mode  C:\Embedded\Tastiera CanOpenV.3.1\init.c
00090e   d7fe     BRA       0x90c                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000910   0e80     MOVLW     0x80            CANCON 	= 0x80;		//gi:bit 7-5: Configuration mode,ABAT=0 = normal operation     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000912   6e6f     MOVWF     0x6f,0x0                                                                                        
000914   ae6e     BTFSS     0x6e,0x7,0x0    while (CANSTATbits.OPMODE2 == 0); // wait for the module to enter configuration mode C:\Embedded\Tastiera CanOpenV.3.1\init.c
000916   d7fe     BRA       0x914                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000918   0e02     MOVLW     0x2             BRGCON1 	= baud_rate;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
00091a   50db     MOVF      0xdb,0x0,0x0                                                                                    
00091c   6e70     MOVWF     0x70,0x0                                                                                        
00091e   0ebf     MOVLW     0xbf            BRGCON2 	= 0xBF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000920   6e71     MOVWF     0x71,0x0                                                                                        
000922   0e07     MOVLW     0x7             BRGCON3 	= 0x07;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000924   6e72     MOVWF     0x72,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000926   0e20     MOVLW     0x20            CIOCON 	= 0x20;  	//gi:CAN IO pin                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000928   6e73     MOVWF     0x73,0x0                                                                                        
00092a   0e03     MOVLW     0x3             IPR3 		= 0x3;		//gi: interrupt priority                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
00092c   6ea5     MOVWF     0xa5,0x0                                                                                        
00092e   6ea3     MOVWF     0xa3,0x0        PIE3 		= 0x3;		//gi: RXB0,RXB1 ints                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // PIR3		= 0x04;		/????                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Init filters                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000930   010f     MOVLB     0xf             RXM0SIDH = 0xFF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000932   6918     SETF      0x18,0x1                                                                                        
000934   6919     SETF      0x19,0x1        RXM0SIDL = 0xFF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000936   6b1a     CLRF      0x1a,0x1        RXM0EIDH = 0x00;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000938   6b1b     CLRF      0x1b,0x1        RXM0EIDL = 0x00;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00093a   691c     SETF      0x1c,0x1        RXM1SIDH = 0xFF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
00093c   691d     SETF      0x1d,0x1        RXM1SIDL = 0xFF;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
00093e   6b1e     CLRF      0x1e,0x1        RXM1EIDH = 0x00;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000940   6b1f     CLRF      0x1f,0x1        RXM1EIDL = 0x00;                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000942   6b03     CLRF      0x3,0x1         RXF0EIDL = 0;RXF0EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000944   6b02     CLRF      0x2,0x1                                                                                         
000946   6b07     CLRF      0x7,0x1         RXF1EIDL = 0;RXF1EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000948   6b06     CLRF      0x6,0x1                                                                                         
00094a   6b0b     CLRF      0xb,0x1         RXF2EIDL = 0;RXF2EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
00094c   6b0a     CLRF      0xa,0x1                                                                                         
00094e   6b0f     CLRF      0xf,0x1         RXF3EIDL = 0;RXF3EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000950   6b0e     CLRF      0xe,0x1                                                                                         
000952   6b13     CLRF      0x13,0x1        RXF4EIDL = 0;RXF4EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000954   6b12     CLRF      0x12,0x1                                                                                        
000956   6b17     CLRF      0x17,0x1        RXF5EIDL = 0;RXF5EIDH = 0;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000958   6b16     CLRF      0x16,0x1                                                                                        
00095a   8a60     BSF       0x60,0x5,0x0    RXB0CONbits.RXM0 = 1;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
00095c   8460     BSF       0x60,0x2,0x0    RXB0CONbits.RXB0DBEN = 1;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00095e   8b50     BSF       0x50,0x5,0x1    RXB1CONbits.RXM0 = 1;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000960   c09a     MOVFF     0x9a,0xf00      RXF0SIDH = RXB_B [CAN_OPEN_PDO1].TXBSIDH;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000962   ff00                                                                                                               
000964   c099     MOVFF     0x99,0xf01      RXF0SIDL = RXB_B [CAN_OPEN_PDO1].TXBSIDL;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000966   ff01                                                                                                               
000968   c0a6     MOVFF     0xa6,0xf04      RXF1SIDH = RXB_B [CAN_OPEN_PDO2].TXBSIDH;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00096a   ff04                                                                                                               
00096c   c0a5     MOVFF     0xa5,0xf05      RXF1SIDL = RXB_B [CAN_OPEN_PDO2].TXBSIDL;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
00096e   ff05                                                                                                               
000970   c0b2     MOVFF     0xb2,0xf08      RXF2SIDH = RXB_B [CAN_OPEN_IdNet].TXBSIDH;                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000972   ff08                                                                                                               
000974   c0b1     MOVFF     0xb1,0xf09      RXF2SIDL = RXB_B [CAN_OPEN_IdNet].TXBSIDL;                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000976   ff09                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // Unused                                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000978   cf08     MOVFF     0xf08,0xf0c     RXF3SIDH = RXF2SIDH;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00097a   ff0c                                                                                                               
00097c   cf09     MOVFF     0xf09,0xf0d     RXF3SIDL = RXF2SIDL;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00097e   ff0d                                                                                                               
000980   cf08     MOVFF     0xf08,0xf10     RXF4SIDH = RXF2SIDH;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000982   ff10                                                                                                               
000984   cf09     MOVFF     0xf09,0xf11     RXF4SIDL = RXF2SIDL;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000986   ff11                                                                                                               
000988   cf08     MOVFF     0xf08,0xf14     RXF5SIDH = RXF2SIDH;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00098a   ff14                                                                                                               
00098c   cf09     MOVFF     0xf09,0xf15     RXF5SIDL = RXF2SIDL;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
00098e   ff15                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000990   0e20     MOVLW     0x20            CANCON = 0x20;						// ERRATA, go through disable mode before normal....?       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000992   6e6f     MOVWF     0x6f,0x0                                                                                        
000994   6a6f     CLRF      0x6f,0x0        CANCON = 0x00;						// Fine inizializzazione                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
000996   be6e     BTFSC     0x6e,0x7,0x0    while (CANSTATbits.OPMODE2 == 1); 	// wait for the module to enter normal mode  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000998   d7fe     BRA       0x996                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // Dati trasmissione (180+Id)                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
00099a   0e80     MOVLW     0x80            Id_p.Id_low  = Id + 0x80;			//make sure high bits are cleared                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
00099c   0100     MOVLB     0x0                                                                                             
00099e   25c0     ADDWF     0xc0,0x0,0x1                                                                                    
0009a0   0101     MOVLB     0x1                                                                                             
0009a2   6f00     MOVWF     0x0,0x1                                                                                         
0009a4   0e01     MOVLW     0x1             Id_p.Id_high = 1;                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009a6   6f01     MOVWF     0x1,0x1                                                                                         
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009a8   0e05     MOVLW     0x5             Id_p.Idword  <<=5;                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009aa   90d8     BCF       0xd8,0x0,0x0                                                                                    
0009ac   3700     RLCF      0x0,0x1,0x1                                                                                     
0009ae   3701     RLCF      0x1,0x1,0x1                                                                                     
0009b0   06e8     DECF      0xe8,0x1,0x0                                                                                    
0009b2   e1fb     BNZ       0x9aa                                                                                           
0009b4   c101     MOVFF     0x101,0x0       TXB_B [CAN_OPEN_IdTx].TXBSIDH = (Id_p.Idword  >> 8) & 0xFF;                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009b6   f000                                                                                                               
0009b8   6a01     CLRF      0x1,0x0                                                                                         
0009ba   5000     MOVF      0x0,0x0,0x0                                                                                     
0009bc   0100     MOVLB     0x0                                                                                             
0009be   6f6a     MOVWF     0x6a,0x1                                                                                        
0009c0   0ee0     MOVLW     0xe0            TXB_B [CAN_OPEN_IdTx].TXBSIDL = Id_p.Idword & 0xE0;                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009c2   0101     MOVLB     0x1                                                                                             
0009c4   1500     ANDWF     0x0,0x0,0x1                                                                                     
0009c6   0100     MOVLB     0x0                                                                                             
0009c8   6f69     MOVWF     0x69,0x1                                                                                        
0009ca   0e08     MOVLW     0x8             TXB_B [CAN_OPEN_IdTx].TXBDLC  = 8; 		//max possible number of rows in key_pad     C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009cc   6f68     MOVWF     0x68,0x1                                                                                        
0009ce   6b6b     CLRF      0x6b,0x1        TXB_B [CAN_OPEN_IdTx].ST_B.STATO_TX_B = 0;                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // Error Protocol (heartbeat, boot) (Id + 0x700)                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009d0   c0c0     MOVFF     0xc0,0x100      Id_p.Id_low    = Id;                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009d2   f100                                                                                                               
0009d4   0101     MOVLB     0x1             Id_p.Id_high   = 0x7;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009d6   0e07     MOVLW     0x7                                                                                             
0009d8   6f01     MOVWF     0x1,0x1                                                                                         
0009da   0e05     MOVLW     0x5             Id_p.Idword  <<=5;                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009dc   90d8     BCF       0xd8,0x0,0x0                                                                                    
0009de   3700     RLCF      0x0,0x1,0x1                                                                                     
0009e0   3701     RLCF      0x1,0x1,0x1                                                                                     
0009e2   06e8     DECF      0xe8,0x1,0x0                                                                                    
0009e4   e1fb     BNZ       0x9dc                                                                                           
0009e6   c101     MOVFF     0x101,0x0       TXB_B [CAN_OPEN_IdErr].TXBSIDH = (Id_p.Idword  >> 8) & 0xFF;                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009e8   f000                                                                                                               
0009ea   6a01     CLRF      0x1,0x0                                                                                         
0009ec   5000     MOVF      0x0,0x0,0x0                                                                                     
0009ee   0100     MOVLB     0x0                                                                                             
0009f0   6f76     MOVWF     0x76,0x1                                                                                        
0009f2   0ee0     MOVLW     0xe0            TXB_B [CAN_OPEN_IdErr].TXBSIDL = Id_p.Idword & 0xE0;                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009f4   0101     MOVLB     0x1                                                                                             
0009f6   1500     ANDWF     0x0,0x0,0x1                                                                                     
0009f8   0100     MOVLB     0x0                                                                                             
0009fa   6f75     MOVWF     0x75,0x1                                                                                        
0009fc   0e01     MOVLW     0x1             TXB_B [CAN_OPEN_IdErr].TXBDLC  = 0x01;                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
0009fe   6f74     MOVWF     0x74,0x1                                                                                        
000a00   6b73     CLRF      0x73,0x1        TXB_B [CAN_OPEN_IdErr].TXBD0  = 0x0;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a02   6b72     CLRF      0x72,0x1        TXB_B [CAN_OPEN_IdErr].TXBD1  = 0x0;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a04   6b71     CLRF      0x71,0x1        TXB_B [CAN_OPEN_IdErr].TXBD2  = 0x0;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a06   6b70     CLRF      0x70,0x1        TXB_B [CAN_OPEN_IdErr].TXBD3  = 0x0;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a08   6b6f     CLRF      0x6f,0x1        TXB_B [CAN_OPEN_IdErr].TXBD4  = 0x0;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a0a   6b6e     CLRF      0x6e,0x1        TXB_B [CAN_OPEN_IdErr].TXBD5  = 0x0;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a0c   6b6d     CLRF      0x6d,0x1        TXB_B [CAN_OPEN_IdErr].TXBD6  = 0x0;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a0e   6b6c     CLRF      0x6c,0x1        TXB_B [CAN_OPEN_IdErr].TXBD7  = 0x0;                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a10   6b77     CLRF      0x77,0x1        TXB_B [CAN_OPEN_IdErr].ST_B.STATO_TX_B = 0;                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // Emergency Protocol(80H)                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a12   0e80     MOVLW     0x80            Id_p.Id_low  = Id + 0x80;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a14   0100     MOVLB     0x0                                                                                             
000a16   25c0     ADDWF     0xc0,0x0,0x1                                                                                    
000a18   0101     MOVLB     0x1                                                                                             
000a1a   6f00     MOVWF     0x0,0x1                                                                                         
000a1c   6b01     CLRF      0x1,0x1         Id_p.Id_high = 0;                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a1e   0e05     MOVLW     0x5             Id_p.Idword  <<=5;                                                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a20   90d8     BCF       0xd8,0x0,0x0                                                                                    
000a22   3700     RLCF      0x0,0x1,0x1                                                                                     
000a24   3701     RLCF      0x1,0x1,0x1                                                                                     
000a26   06e8     DECF      0xe8,0x1,0x0                                                                                    
000a28   e1fb     BNZ       0xa20                                                                                           
000a2a   c101     MOVFF     0x101,0x0       TXB_B [CAN_OPEN_IdEMCY].TXBSIDH = (Id_p.Idword  >> 8) & 0xFF;                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a2c   f000                                                                                                               
000a2e   6a01     CLRF      0x1,0x0                                                                                         
000a30   5000     MOVF      0x0,0x0,0x0                                                                                     
000a32   0100     MOVLB     0x0                                                                                             
000a34   6f82     MOVWF     0x82,0x1                                                                                        
000a36   0ee0     MOVLW     0xe0            TXB_B [CAN_OPEN_IdEMCY].TXBSIDL = Id_p.Idword & 0xE0;                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a38   0101     MOVLB     0x1                                                                                             
000a3a   1500     ANDWF     0x0,0x0,0x1                                                                                     
000a3c   0100     MOVLB     0x0                                                                                             
000a3e   6f81     MOVWF     0x81,0x1                                                                                        
000a40   0e05     MOVLW     0x5             TXB_B [CAN_OPEN_IdEMCY].TXBDLC  = 0x05;                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a42   6f80     MOVWF     0x80,0x1                                                                                        
000a44   6b83     CLRF      0x83,0x1        TXB_B [CAN_OPEN_IdEMCY].ST_B.STATO_TX_B = 0;                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // Sdo out - not used (580H)                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a46   0e80     MOVLW     0x80            Id_p.Id_low    = Id + 0x80;                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a48   0100     MOVLB     0x0                                                                                             
000a4a   25c0     ADDWF     0xc0,0x0,0x1                                                                                    
000a4c   0101     MOVLB     0x1                                                                                             
000a4e   6f00     MOVWF     0x0,0x1                                                                                         
000a50   0e05     MOVLW     0x5             Id_p.Id_high	= 5;                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a52   6f01     MOVWF     0x1,0x1                                                                                         
000a54   90d8     BCF       0xd8,0x0,0x0    Id_p.Idword  <<=5;							// function-code = 1011...                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a56   3700     RLCF      0x0,0x1,0x1                                                                                     
000a58   3701     RLCF      0x1,0x1,0x1                                                                                     
000a5a   06e8     DECF      0xe8,0x1,0x0                                                                                    
000a5c   e1fb     BNZ       0xa54                                                                                           
000a5e   c101     MOVFF     0x101,0x0       TXB_B [CAN_OPEN_IdSdoTx].TXBSIDH = (Id_p.Idword  >> 8) & 0xFF;                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a60   f000                                                                                                               
000a62   6a01     CLRF      0x1,0x0                                                                                         
000a64   5000     MOVF      0x0,0x0,0x0                                                                                     
000a66   0100     MOVLB     0x0                                                                                             
000a68   6f8e     MOVWF     0x8e,0x1                                                                                        
000a6a   0ee0     MOVLW     0xe0            TXB_B [CAN_OPEN_IdSdoTx].TXBSIDL = Id_p.Idword & 0xE0;                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a6c   0101     MOVLB     0x1                                                                                             
000a6e   1500     ANDWF     0x0,0x0,0x1                                                                                     
000a70   0100     MOVLB     0x0                                                                                             
000a72   6f8d     MOVWF     0x8d,0x1                                                                                        
000a74   0e08     MOVLW     0x8             TXB_B [CAN_OPEN_IdSdoTx].TXBDLC  = 0x08;                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a76   6f8c     MOVWF     0x8c,0x1                                                                                        
000a78   6b8f     CLRF      0x8f,0x1        TXB_B [CAN_OPEN_IdSdoTx].ST_B.STATO_TX_B = 0;                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a7a   0ec5     MOVLW     0xc5            T0CON = 0b11000101;		//timer0 on, 8 bit, internal,prescale 1:64                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a7c   6ed5     MOVWF     0xd5,0x0                                                                                        
000a7e   0ea0     MOVLW     0xa0            TMR0L = 0x0 - Timer0tick_ms;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a80   6ed6     MOVWF     0xd6,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a82   0eb5     MOVLW     0xb5            T1CON = 0b10110101;			//timer1 RD16=on,prescale=8,t1psc=off,no ext sync,internal clk,tmr1 on C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a84   6ecd     MOVWF     0xcd,0x0                                                                                        
000a86   0100     MOVLB     0x0             T1.T1_int = Timer1tick_ms;                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a88   0ef3     MOVLW     0xf3                                                                                            
000a8a   6fc1     MOVWF     0xc1,0x1                                                                                        
000a8c   0efc     MOVLW     0xfc                                                                                            
000a8e   6fc2     MOVWF     0xc2,0x1                                                                                        
000a90   c0c2     MOVFF     0xc2,0xfcf      TMR1H = T1.T1high_byte;                                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a92   ffcf                                                                                                               
000a94   c0c1     MOVFF     0xc1,0xfce      TMR1L = T1.T1low_byte;                                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a96   ffce                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a98   8cf2     BSF       0xf2,0x6,0x0    INTCONbits.PEIE = 1;		// Enable peripheral interrupts                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a9a   8ef2     BSF       0xf2,0x7,0x0    INTCONbits.GIE = 1;		// Enable all interrupts                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a9c   0100     MOVLB     0x0             StatoUnita = CAN_STATE_PREOPERATIONAL;                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000a9e   0e7f     MOVLW     0x7f                                                                                            
000aa0   6fe1     MOVWF     0xe1,0x1                                                                                        
000aa2   0100     MOVLB     0x0             LEDs_on = 0;				//leds intensity counter                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000aa4   6bde     CLRF      0xde,0x1                                                                                        
000aa6   0100     MOVLB     0x0             Next_Group = 0;                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000aa8   6bf9     CLRF      0xf9,0x1                                                                                        
000aaa   0100     MOVLB     0x0             check_keypad_now = FALSE;  //slow down keypad reads until all 3 groups LEDS are processed  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000aac   6bfa     CLRF      0xfa,0x1                                                                                        
000aae   0100     MOVLB     0x0             test_error_now = FALSE;                                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
000ab0   6bfb     CLRF      0xfb,0x1                                                                                        
000ab2   6adf     CLRF      0xdf,0x0        for(i=0	; i<MAX_ROWS	; i++)                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000ab4   0e07     MOVLW     0x7                                                                                             
000ab6   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
000ab8   e217     BC        0xae8                                                                                           
000ae4   2adf     INCF      0xdf,0x1,0x0                                                                                    
000ae6   d7e6     BRA       0xab4                                                                                           
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000aba   50df     MOVF      0xdf,0x0,0x0   	KEY_PAD_NEW[i].All_Col = 0; //recently read keypad                              C:\Embedded\Tastiera CanOpenV.3.1\init.c
000abc   6aea     CLRF      0xea,0x0                                                                                        
000abe   0fe3     ADDLW     0xe3                                                                                            
000ac0   6ee9     MOVWF     0xe9,0x0                                                                                        
000ac2   0e00     MOVLW     0x0                                                                                             
000ac4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000ac6   6aef     CLRF      0xef,0x0                                                                                        
000ac8   50df     MOVF      0xdf,0x0,0x0   	KEY_PAD_PREV[i].All_Col = 0; //previous keypad states                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000aca   6aea     CLRF      0xea,0x0                                                                                        
000acc   0fea     ADDLW     0xea                                                                                            
000ace   6ee9     MOVWF     0xe9,0x0                                                                                        
000ad0   0e00     MOVLW     0x0                                                                                             
000ad2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000ad4   6aef     CLRF      0xef,0x0                                                                                        
000ad6   50df     MOVF      0xdf,0x0,0x0   	KEY_PAD_SENT[i].All_Col = 0; //last sent keypad states                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
000ad8   6aea     CLRF      0xea,0x0                                                                                        
000ada   0ff1     ADDLW     0xf1                                                                                            
000adc   6ee9     MOVWF     0xe9,0x0                                                                                        
000ade   0e00     MOVLW     0x0                                                                                             
000ae0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000ae2   6aef     CLRF      0xef,0x0                                                                                        
                                           	}                                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000ae8   0100     MOVLB     0x0             DEBOUNCE_FLAG = _OFF;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000aea   6bf8     CLRF      0xf8,0x1                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000aec   6adf     CLRF      0xdf,0x0        for (i=0	; i<MAX_LED_ROWS	; i++)                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000aee   0e06     MOVLW     0x6                                                                                             
000af0   5cdf     SUBWF     0xdf,0x0,0x0                                                                                    
000af2   e217     BC        0xb22                                                                                           
000b1e   2adf     INCF      0xdf,0x1,0x0                                                                                    
000b20   d7e6     BRA       0xaee                                                                                           
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000af4   50df     MOVF      0xdf,0x0,0x0   	LEDs[i]		= 0;                                                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
000af6   6aea     CLRF      0xea,0x0                                                                                        
000af8   0fcc     ADDLW     0xcc                                                                                            
000afa   6ee9     MOVWF     0xe9,0x0                                                                                        
000afc   0e00     MOVLW     0x0                                                                                             
000afe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000b00   6aef     CLRF      0xef,0x0                                                                                        
000b02   50df     MOVF      0xdf,0x0,0x0   	BlinkLEDs[i]	= 0;                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b04   6aea     CLRF      0xea,0x0                                                                                        
000b06   0fd2     ADDLW     0xd2                                                                                            
000b08   6ee9     MOVWF     0xe9,0x0                                                                                        
000b0a   0e00     MOVLW     0x0                                                                                             
000b0c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000b0e   6aef     CLRF      0xef,0x0                                                                                        
000b10   50df     MOVF      0xdf,0x0,0x0   	BlinkMask[i]	= 0;                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b12   6aea     CLRF      0xea,0x0                                                                                        
000b14   0fd8     ADDLW     0xd8                                                                                            
000b16   6ee9     MOVWF     0xe9,0x0                                                                                        
000b18   0e00     MOVLW     0x0                                                                                             
000b1a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000b1c   6aef     CLRF      0xef,0x0                                                                                        
                                            }                                                                               C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b22   0100     MOVLB     0x0             row_count = 0;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b24   6bfc     CLRF      0xfc,0x1                                                                                        
000b26   0100     MOVLB     0x0             mask.common_mask=_ON;                                                           C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b28   8fe0     BSF       0xe0,0x7,0x1                                                                                    
000b2a   0100     MOVLB     0x0             ultimo_out = 0;                                                                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b2c   6bdf     CLRF      0xdf,0x1                                                                                        
000b2e   0100     MOVLB     0x0             error_persistancy_count = ERROR_DEBOUNCE;                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b30   0e05     MOVLW     0x5                                                                                             
000b32   6ffd     MOVWF     0xfd,0x1                                                                                        
000b34   0100     MOVLB     0x0             NON_error_persistancy_count = NON_ERROR_COUNT;                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b36   0e0a     MOVLW     0xa                                                                                             
000b38   6ffe     MOVWF     0xfe,0x1                                                                                        
000b3a   0100     MOVLB     0x0             blink_rate = HALF_SECOND;                                                       C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b3c   0ef4     MOVLW     0xf4                                                                                            
000b3e   6fc9     MOVWF     0xc9,0x1                                                                                        
000b40   0e01     MOVLW     0x1                                                                                             
000b42   6fca     MOVWF     0xca,0x1                                                                                        
000b44   ec41     CALL      0xe82,0x0       SendBoot();                                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b46   f007                                                                                                               
000b48   ecc7     CALL      0xb8e,0x0       CanOut ();                                                                      C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b4a   f005                                                                                                               
000b4c   0e03     MOVLW     0x3            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b4e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000b50   e202     BC        0xb56                                                                                           
000b52   6ae1     CLRF      0xe1,0x0                                                                                        
000b54   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000b56   6ee1     MOVWF     0xe1,0x0                                                                                        
000b58   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000b5a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000b5c   ffd9                                                                                                               
000b5e   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Send emergency in case of bus errors                                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           void CheckBusError(void)                                                         C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                            // ---- Errori di trasmissione                                                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b60   5074     MOVF      0x74,0x0,0x0    if ((COMSTATbits.TXBO & 0xF8) > 0) // Severe errors on the bus                  C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b62   0b20     ANDLW     0x20                                                                                            
000b64   e001     BZ        0xb68                                                                                           
000b66   0e01     MOVLW     0x1                                                                                             
000b68   0bf8     ANDLW     0xf8                                                                                            
000b6a   0800     SUBLW     0x0                                                                                             
000b6c   e20f     BC        0xb8c                                                                                           
                                             	{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b6e   0101     MOVLB     0x1                if (!bus_passive)                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b70   5118     MOVF      0x18,0x0,0x1                                                                                    
000b72   e10b     BNZ       0xb8a                                                                                           
                                                   {                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b74   0100     MOVLB     0x0                     TXB_B [CAN_OPEN_IdEMCY].TXBD0 = 0x10;	//generic error                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b76   0e10     MOVLW     0x10                                                                                            
000b78   6f7f     MOVWF     0x7f,0x1                                                                                        
000b7a   6b7e     CLRF      0x7e,0x1                TXB_B [CAN_OPEN_IdEMCY].TXBD1 = 0x00;                                   C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b7c   0e80     MOVLW     0x80                    TXB_B [CAN_OPEN_IdEMCY].TXBD1 = 0x80;  //error registry                 C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b7e   6f7e     MOVWF     0x7e,0x1                                                                                        
000b80   8f83     BSF       0x83,0x7,0x1            TXB_B [CAN_OPEN_IdEMCY].ST_B.OUT = TRUE;                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b82   0101     MOVLB     0x1                     bus_passive = TRUE;                                                     C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b84   0e01     MOVLW     0x1                                                                                             
000b86   6f18     MOVWF     0x18,0x1                                                                                        
                                                   }                                                                        C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b88   d001     BRA       0xb8c          	else                                                                            C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b8a   6b18     CLRF      0x18,0x1                bus_passive = FALSE;                                                    C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                             	}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\init.c
000b8c   0012     RETURN    0x0            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\init.c
                                           // Passive Keypad with LEDs as CANOpen node                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // Programmer:	Gino Isla for Lambda Sistemi, Milano                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // Created: 	22-11-2004	Version 1.0                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // Updates:		30-11-2004	(circa) no Version: turn-off LEDs before applying new pattern.  Add C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //										 delay before turning-on common port of LED group.                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //	gi			17-01-2005	Version 1.2: Modify Configuration bits to correct writes to EEPROM C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //	gi			14-07-2005	Version 2.0: Change sequence for reading keypad:              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //											a. Read keys only after LEds are lit                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //											b. Read all keypad rows before checking for variations              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //											Add error functions (read columns, send EMCY)                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //											Change port assignments for new hw                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //	gi			09-09-2005	---------		Fixed several bugs, added Timer 1 to manage timings between C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //											write of the LEDs,read of the keypad and error detection            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //-------------------------------------------------------------------------------------------------------- C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //	gi			03-10-20006	Version 3.0		Version copmpiled for PIC18F4580 [MPLAB 7.40 and C18 v3.04] C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //	gi			17-11-2006	Version 3.1		Bugs fixes for error reading EEPROM during init  C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           /* ------------------------------------------- Include files: ------------------------------------------- */ C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           #include <p18f4580.h>                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           #include "config.h"                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           #include "can.h"                                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           /* ------------------------------------------- Configuration bits --------------------------------------- */ C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           volatile M_TXB_BUFF TXB_B[MAX_CAN_OUT];                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           volatile M_TXB_BUFF RXB_B[MAX_CAN_IN];                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           char StatoUnita = 0;			// Stato unita                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char Id;                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           M_TIMER_1_CONVERT T1;                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //struct heartbeat heartbeat_count;                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           M_HEARTBEAT heartbeat_count;                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           M_HEARTBEAT heartbeat_rate;                                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	debounce_count;                                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	debounce_period;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	ten_millisec_count = 10;                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned int	blink_rate;                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           M_KEY_ROW KEY_PAD_NEW[MAX_ROWS] ={0,0,0,0,0,0,0};  //recently read keypad        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           M_KEY_ROW KEY_PAD_PREV[MAX_ROWS] ={0,0,0,0,0,0,0}; //previous keypad states      C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           M_KEY_ROW KEY_PAD_SENT[MAX_ROWS] ={0,0,0,0,0,0,0}; //last sent keypad states     C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	DEBOUNCE_FLAG = _OFF;                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	Next_keypad_read;                                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char 	Next_Group = GROUP0;                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char 	LEDs [MAX_LED_ROWS];                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char 	BlinkLEDs [MAX_LED_ROWS];                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char 	BlinkMask [MAX_LED_ROWS];                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char 	LEDs_on;                                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char 	ultimo_out;                                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           struct LED_mask mask;                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //start new in 2.0                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	check_keypad_now = FALSE; 						//allows read keypad at the end of the led cycle C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	test_error_now = FALSE; 						//allows checkfor errors at the end of the keypad cycle C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	row_count = 0; 									//keeps track of rows read                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	error_persistancy_count = ERROR_DEBOUNCE;		//debounce for errors   C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	NON_error_persistancy_count = NON_ERROR_COUNT;	//non-error increments of counter C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char	error_register = 0;								//errro flags                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //end new in 2.0                                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Scrittura nel bus CAN                              //                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
000b8e   cfd9     MOVFF     0xfd9,0xfe6    void CanOut(void)                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
000b90   ffe6                                                                                                               
000b92   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000b94   ffd9                                                                                                               
000b96   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            char i;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000b98   010f     MOVLB     0xf             if (TXB0CONbits.TXREQ) return;                                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
000b9a   b740     BTFSC     0x40,0x3,0x1                                                                                    
000b9c   d16d     BRA       0xe78                                                                                           
000b9e   b6a4     BTFSC     0xa4,0x3,0x0    if (PIR3bits.TXB1IF) PIR3bits.TXB1IF = 0;                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ba0   96a4     BCF       0xa4,0x3,0x0                                                                                    
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            // Ricerca messaggio da inviare                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ba2   c0df     MOVFF     0xdf,0xfdf      for (i = ultimo_out ; i < MAX_CAN_OUT ; i++)                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ba4   ffdf                                                                                                               
000ba6   cfdf     MOVFF     0xfdf,0x0                                                                                       
000ba8   f000                                                                                                               
000baa   0e04     MOVLW     0x4                                                                                             
000bac   6ee7     MOVWF     0xe7,0x0                                                                                        
000bae   1800     XORWF     0x0,0x0,0x0                                                                                     
000bb0   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000bb2   d002     BRA       0xbb8                                                                                           
000bb4   34e7     RLCF      0xe7,0x0,0x0                                                                                    
000bb6   d002     BRA       0xbbc                                                                                           
000bb8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000bba   5c00     SUBWF     0x0,0x0,0x0                                                                                     
000bbc   e301     BNC       0xbc0                                                                                           
000bbe   d14e     BRA       0xe5c                                                                                           
000e58   2adf     INCF      0xdf,0x1,0x0                                                                                    
000e5a   d6a5     BRA       0xba6                                                                                           
                                             {                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000bc0   cfdf     MOVFF     0xfdf,0xfe9       if (TXB_B [i].ST_B.OUT)                                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000bc2   ffe9                                                                                                               
000bc4   6aea     CLRF      0xea,0x0                                                                                        
000bc6   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000bc8   68ea     SETF      0xea,0x0                                                                                        
000bca   0e0c     MOVLW     0xc                                                                                             
000bcc   02ea     MULWF     0xea,0x0                                                                                        
000bce   cff3     MOVFF     0xff3,0xfea                                                                                     
000bd0   ffea                                                                                                               
000bd2   0e0c     MOVLW     0xc                                                                                             
000bd4   02e9     MULWF     0xe9,0x0                                                                                        
000bd6   cff3     MOVFF     0xff3,0xfe9                                                                                     
000bd8   ffe9                                                                                                               
000bda   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000bdc   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000bde   0e60     MOVLW     0x60                                                                                            
000be0   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000be2   0e00     MOVLW     0x0                                                                                             
000be4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000be6   0e0b     MOVLW     0xb                                                                                             
000be8   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000bea   0e00     MOVLW     0x0                                                                                             
000bec   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000bee   50ef     MOVF      0xef,0x0,0x0                                                                                    
000bf0   0b80     ANDLW     0x80                                                                                            
000bf2   e101     BNZ       0xbf6                                                                                           
000bf4   d131     BRA       0xe58                                                                                           
                                               {                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000bf6   cfdf     MOVFF     0xfdf,0xfe9         TXB_B [i].ST_B.OUT  = 0;                                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
000bf8   ffe9                                                                                                               
000bfa   6aea     CLRF      0xea,0x0                                                                                        
000bfc   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000bfe   68ea     SETF      0xea,0x0                                                                                        
000c00   0e0c     MOVLW     0xc                                                                                             
000c02   02ea     MULWF     0xea,0x0                                                                                        
000c04   cff3     MOVFF     0xff3,0xfea                                                                                     
000c06   ffea                                                                                                               
000c08   0e0c     MOVLW     0xc                                                                                             
000c0a   02e9     MULWF     0xe9,0x0                                                                                        
000c0c   cff3     MOVFF     0xff3,0xfe9                                                                                     
000c0e   ffe9                                                                                                               
000c10   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000c12   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000c14   0e60     MOVLW     0x60                                                                                            
000c16   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000c18   0e00     MOVLW     0x0                                                                                             
000c1a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000c1c   0e0b     MOVLW     0xb                                                                                             
000c1e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000c20   0e00     MOVLW     0x0                                                                                             
000c22   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000c24   9eef     BCF       0xef,0x7,0x0                                                                                    
000c26   cfdf     MOVFF     0xfdf,0xfe9         TXB0SIDL = TXB_B [i].TXBSIDL;                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
000c28   ffe9                                                                                                               
000c2a   6aea     CLRF      0xea,0x0                                                                                        
000c2c   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000c2e   68ea     SETF      0xea,0x0                                                                                        
000c30   0e0c     MOVLW     0xc                                                                                             
000c32   02ea     MULWF     0xea,0x0                                                                                        
000c34   cff3     MOVFF     0xff3,0xfea                                                                                     
000c36   ffea                                                                                                               
000c38   0e0c     MOVLW     0xc                                                                                             
000c3a   02e9     MULWF     0xe9,0x0                                                                                        
000c3c   cff3     MOVFF     0xff3,0xfe9                                                                                     
000c3e   ffe9                                                                                                               
000c40   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000c42   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000c44   0e60     MOVLW     0x60                                                                                            
000c46   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000c48   0e00     MOVLW     0x0                                                                                             
000c4a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000c4c   0e09     MOVLW     0x9                                                                                             
000c4e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000c50   0e00     MOVLW     0x0                                                                                             
000c52   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000c54   cfef     MOVFF     0xfef,0xf42                                                                                     
000c56   ff42                                                                                                               
000c58   cfdf     MOVFF     0xfdf,0xfe9         TXB0SIDH = TXB_B [i].TXBSIDH;                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
000c5a   ffe9                                                                                                               
000c5c   6aea     CLRF      0xea,0x0                                                                                        
000c5e   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000c60   68ea     SETF      0xea,0x0                                                                                        
000c62   0e0c     MOVLW     0xc                                                                                             
000c64   02ea     MULWF     0xea,0x0                                                                                        
000c66   cff3     MOVFF     0xff3,0xfea                                                                                     
000c68   ffea                                                                                                               
000c6a   0e0c     MOVLW     0xc                                                                                             
000c6c   02e9     MULWF     0xe9,0x0                                                                                        
000c6e   cff3     MOVFF     0xff3,0xfe9                                                                                     
000c70   ffe9                                                                                                               
000c72   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000c74   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000c76   0e60     MOVLW     0x60                                                                                            
000c78   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000c7a   0e00     MOVLW     0x0                                                                                             
000c7c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000c7e   0e0a     MOVLW     0xa                                                                                             
000c80   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000c82   0e00     MOVLW     0x0                                                                                             
000c84   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000c86   cfef     MOVFF     0xfef,0xf41                                                                                     
000c88   ff41                                                                                                               
000c8a   cfdf     MOVFF     0xfdf,0xfe9         TXB0DLC = TXB_B [i].TXBDLC;                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
000c8c   ffe9                                                                                                               
000c8e   6aea     CLRF      0xea,0x0                                                                                        
000c90   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000c92   68ea     SETF      0xea,0x0                                                                                        
000c94   0e0c     MOVLW     0xc                                                                                             
000c96   02ea     MULWF     0xea,0x0                                                                                        
000c98   cff3     MOVFF     0xff3,0xfea                                                                                     
000c9a   ffea                                                                                                               
000c9c   0e0c     MOVLW     0xc                                                                                             
000c9e   02e9     MULWF     0xe9,0x0                                                                                        
000ca0   cff3     MOVFF     0xff3,0xfe9                                                                                     
000ca2   ffe9                                                                                                               
000ca4   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000ca6   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000ca8   0e60     MOVLW     0x60                                                                                            
000caa   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000cac   0e00     MOVLW     0x0                                                                                             
000cae   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000cb0   0e08     MOVLW     0x8                                                                                             
000cb2   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000cb4   0e00     MOVLW     0x0                                                                                             
000cb6   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000cb8   cfef     MOVFF     0xfef,0xf45                                                                                     
000cba   ff45                                                                                                               
000cbc   cfdf     MOVFF     0xfdf,0xfe9         TXB0D0 = TXB_B [i].TXBD0;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000cbe   ffe9                                                                                                               
000cc0   6aea     CLRF      0xea,0x0                                                                                        
000cc2   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000cc4   68ea     SETF      0xea,0x0                                                                                        
000cc6   0e0c     MOVLW     0xc                                                                                             
000cc8   02ea     MULWF     0xea,0x0                                                                                        
000cca   cff3     MOVFF     0xff3,0xfea                                                                                     
000ccc   ffea                                                                                                               
000cce   0e0c     MOVLW     0xc                                                                                             
000cd0   02e9     MULWF     0xe9,0x0                                                                                        
000cd2   cff3     MOVFF     0xff3,0xfe9                                                                                     
000cd4   ffe9                                                                                                               
000cd6   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000cd8   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000cda   0e60     MOVLW     0x60                                                                                            
000cdc   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000cde   0e00     MOVLW     0x0                                                                                             
000ce0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000ce2   0e07     MOVLW     0x7                                                                                             
000ce4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000ce6   0e00     MOVLW     0x0                                                                                             
000ce8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000cea   cfef     MOVFF     0xfef,0xf46                                                                                     
000cec   ff46                                                                                                               
000cee   cfdf     MOVFF     0xfdf,0xfe9         TXB0D1 = TXB_B [i].TXBD1;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000cf0   ffe9                                                                                                               
000cf2   6aea     CLRF      0xea,0x0                                                                                        
000cf4   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000cf6   68ea     SETF      0xea,0x0                                                                                        
000cf8   0e0c     MOVLW     0xc                                                                                             
000cfa   02ea     MULWF     0xea,0x0                                                                                        
000cfc   cff3     MOVFF     0xff3,0xfea                                                                                     
000cfe   ffea                                                                                                               
000d00   0e0c     MOVLW     0xc                                                                                             
000d02   02e9     MULWF     0xe9,0x0                                                                                        
000d04   cff3     MOVFF     0xff3,0xfe9                                                                                     
000d06   ffe9                                                                                                               
000d08   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000d0a   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000d0c   0e60     MOVLW     0x60                                                                                            
000d0e   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000d10   0e00     MOVLW     0x0                                                                                             
000d12   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000d14   0e06     MOVLW     0x6                                                                                             
000d16   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000d18   0e00     MOVLW     0x0                                                                                             
000d1a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000d1c   cfef     MOVFF     0xfef,0xf47                                                                                     
000d1e   ff47                                                                                                               
000d20   cfdf     MOVFF     0xfdf,0xfe9         TXB0D2 = TXB_B [i].TXBD2;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000d22   ffe9                                                                                                               
000d24   6aea     CLRF      0xea,0x0                                                                                        
000d26   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000d28   68ea     SETF      0xea,0x0                                                                                        
000d2a   0e0c     MOVLW     0xc                                                                                             
000d2c   02ea     MULWF     0xea,0x0                                                                                        
000d2e   cff3     MOVFF     0xff3,0xfea                                                                                     
000d30   ffea                                                                                                               
000d32   0e0c     MOVLW     0xc                                                                                             
000d34   02e9     MULWF     0xe9,0x0                                                                                        
000d36   cff3     MOVFF     0xff3,0xfe9                                                                                     
000d38   ffe9                                                                                                               
000d3a   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000d3c   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000d3e   0e60     MOVLW     0x60                                                                                            
000d40   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000d42   0e00     MOVLW     0x0                                                                                             
000d44   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000d46   0e05     MOVLW     0x5                                                                                             
000d48   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000d4a   0e00     MOVLW     0x0                                                                                             
000d4c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000d4e   cfef     MOVFF     0xfef,0xf48                                                                                     
000d50   ff48                                                                                                               
000d52   cfdf     MOVFF     0xfdf,0xfe9         TXB0D3 = TXB_B [i].TXBD3;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000d54   ffe9                                                                                                               
000d56   6aea     CLRF      0xea,0x0                                                                                        
000d58   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000d5a   68ea     SETF      0xea,0x0                                                                                        
000d5c   0e0c     MOVLW     0xc                                                                                             
000d5e   02ea     MULWF     0xea,0x0                                                                                        
000d60   cff3     MOVFF     0xff3,0xfea                                                                                     
000d62   ffea                                                                                                               
000d64   0e0c     MOVLW     0xc                                                                                             
000d66   02e9     MULWF     0xe9,0x0                                                                                        
000d68   cff3     MOVFF     0xff3,0xfe9                                                                                     
000d6a   ffe9                                                                                                               
000d6c   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000d6e   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000d70   0e60     MOVLW     0x60                                                                                            
000d72   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000d74   0e00     MOVLW     0x0                                                                                             
000d76   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000d78   0e04     MOVLW     0x4                                                                                             
000d7a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000d7c   0e00     MOVLW     0x0                                                                                             
000d7e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000d80   cfef     MOVFF     0xfef,0xf49                                                                                     
000d82   ff49                                                                                                               
000d84   cfdf     MOVFF     0xfdf,0xfe9         TXB0D4 = TXB_B [i].TXBD4;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000d86   ffe9                                                                                                               
000d88   6aea     CLRF      0xea,0x0                                                                                        
000d8a   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000d8c   68ea     SETF      0xea,0x0                                                                                        
000d8e   0e0c     MOVLW     0xc                                                                                             
000d90   02ea     MULWF     0xea,0x0                                                                                        
000d92   cff3     MOVFF     0xff3,0xfea                                                                                     
000d94   ffea                                                                                                               
000d96   0e0c     MOVLW     0xc                                                                                             
000d98   02e9     MULWF     0xe9,0x0                                                                                        
000d9a   cff3     MOVFF     0xff3,0xfe9                                                                                     
000d9c   ffe9                                                                                                               
000d9e   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000da0   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000da2   0e60     MOVLW     0x60                                                                                            
000da4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000da6   0e00     MOVLW     0x0                                                                                             
000da8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000daa   0e03     MOVLW     0x3                                                                                             
000dac   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000dae   0e00     MOVLW     0x0                                                                                             
000db0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000db2   cfef     MOVFF     0xfef,0xf4a                                                                                     
000db4   ff4a                                                                                                               
000db6   cfdf     MOVFF     0xfdf,0xfe9         TXB0D5 = TXB_B [i].TXBD5;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000db8   ffe9                                                                                                               
000dba   6aea     CLRF      0xea,0x0                                                                                        
000dbc   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000dbe   68ea     SETF      0xea,0x0                                                                                        
000dc0   0e0c     MOVLW     0xc                                                                                             
000dc2   02ea     MULWF     0xea,0x0                                                                                        
000dc4   cff3     MOVFF     0xff3,0xfea                                                                                     
000dc6   ffea                                                                                                               
000dc8   0e0c     MOVLW     0xc                                                                                             
000dca   02e9     MULWF     0xe9,0x0                                                                                        
000dcc   cff3     MOVFF     0xff3,0xfe9                                                                                     
000dce   ffe9                                                                                                               
000dd0   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000dd2   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000dd4   0e60     MOVLW     0x60                                                                                            
000dd6   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000dd8   0e00     MOVLW     0x0                                                                                             
000dda   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000ddc   0e02     MOVLW     0x2                                                                                             
000dde   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000de0   0e00     MOVLW     0x0                                                                                             
000de2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000de4   cfef     MOVFF     0xfef,0xf4b                                                                                     
000de6   ff4b                                                                                                               
000de8   cfdf     MOVFF     0xfdf,0xfe9         TXB0D6 = TXB_B [i].TXBD6;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000dea   ffe9                                                                                                               
000dec   6aea     CLRF      0xea,0x0                                                                                        
000dee   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000df0   68ea     SETF      0xea,0x0                                                                                        
000df2   0e0c     MOVLW     0xc                                                                                             
000df4   02ea     MULWF     0xea,0x0                                                                                        
000df6   cff3     MOVFF     0xff3,0xfea                                                                                     
000df8   ffea                                                                                                               
000dfa   0e0c     MOVLW     0xc                                                                                             
000dfc   02e9     MULWF     0xe9,0x0                                                                                        
000dfe   cff3     MOVFF     0xff3,0xfe9                                                                                     
000e00   ffe9                                                                                                               
000e02   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000e04   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000e06   0e60     MOVLW     0x60                                                                                            
000e08   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000e0a   0e00     MOVLW     0x0                                                                                             
000e0c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000e0e   52ee     MOVF      0xee,0x1,0x0                                                                                    
000e10   cfef     MOVFF     0xfef,0xf4c                                                                                     
000e12   ff4c                                                                                                               
000e14   cfdf     MOVFF     0xfdf,0xfe9         TXB0D7 = TXB_B [i].TXBD7;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e16   ffe9                                                                                                               
000e18   6aea     CLRF      0xea,0x0                                                                                        
000e1a   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
000e1c   68ea     SETF      0xea,0x0                                                                                        
000e1e   0e0c     MOVLW     0xc                                                                                             
000e20   02ea     MULWF     0xea,0x0                                                                                        
000e22   cff3     MOVFF     0xff3,0xfea                                                                                     
000e24   ffea                                                                                                               
000e26   0e0c     MOVLW     0xc                                                                                             
000e28   02e9     MULWF     0xe9,0x0                                                                                        
000e2a   cff3     MOVFF     0xff3,0xfe9                                                                                     
000e2c   ffe9                                                                                                               
000e2e   50f4     MOVF      0xf4,0x0,0x0                                                                                    
000e30   26ea     ADDWF     0xea,0x1,0x0                                                                                    
000e32   0e60     MOVLW     0x60                                                                                            
000e34   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
000e36   0e00     MOVLW     0x0                                                                                             
000e38   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000e3a   cfef     MOVFF     0xfef,0xf4d                                                                                     
000e3c   ff4d                                                                                                               
000e3e   010f     MOVLB     0xf                 TXB0CONbits.TXREQ = 1;                                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e40   8740     BSF       0x40,0x3,0x1                                                                                    
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e42   0004     CLRWDT                   	 _asm clrwdt _endasm                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e44   010f     MOVLB     0xf            	 while (TXB0CONbits.TXREQ) ;                                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e46   b740     BTFSC     0x40,0x3,0x1                                                                                    
000e48   d7fd     BRA       0xe44                                                                                           
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e4a   b4a4     BTFSC     0xa4,0x2,0x0   	 if (PIR3bits.TXB0IF) PIR3bits.TXB0IF = 0;                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e4c   94a4     BCF       0xa4,0x2,0x0                                                                                    
000e4e   50df     MOVF      0xdf,0x0,0x0   	 ultimo_out = i++;                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e50   2adf     INCF      0xdf,0x1,0x0                                                                                    
000e52   0100     MOVLB     0x0                                                                                             
000e54   6fdf     MOVWF     0xdf,0x1                                                                                        
000e56   d002     BRA       0xe5c          	 break;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                }                                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                             }                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e5c   cfdf     MOVFF     0xfdf,0x0       if (i >= MAX_CAN_OUT)                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e5e   f000                                                                                                               
000e60   0e04     MOVLW     0x4                                                                                             
000e62   6ee7     MOVWF     0xe7,0x0                                                                                        
000e64   1800     XORWF     0x0,0x0,0x0                                                                                     
000e66   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
000e68   d002     BRA       0xe6e                                                                                           
000e6a   34e7     RLCF      0xe7,0x0,0x0                                                                                    
000e6c   d002     BRA       0xe72                                                                                           
000e6e   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000e70   5c00     SUBWF     0x0,0x0,0x0                                                                                     
000e72   e302     BNC       0xe78                                                                                           
000e74   0100     MOVLB     0x0               ultimo_out = 0;                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e76   6bdf     CLRF      0xdf,0x1                                                                                        
000e78   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e7a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000e7c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000e7e   ffd9                                                                                                               
000e80   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Prepare BOOT message                              //                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           void SendBoot (void)                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                             {                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e82   0100     MOVLB     0x0            	TXB_B [CAN_OPEN_IdErr].TXBD0 = 0;                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e84   6b73     CLRF      0x73,0x1                                                                                        
000e86   8f77     BSF       0x77,0x7,0x1   	TXB_B [CAN_OPEN_IdErr].ST_B.OUT = 1;	                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e88   0012     RETURN    0x0              }                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                             //***************************************************//                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Prepare Emergency message                              //                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e8a   cfd9     MOVFF     0xfd9,0xfe6    void SendEmergency ( char registry, char error_data)                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e8c   ffe6                                                                                                               
000e8e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000e90   ffd9                                                                                                               
                                             {                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e92   0100     MOVLB     0x0            	TXB_B [CAN_OPEN_IdEMCY].TXBD0 = 0x00;                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e94   6b7f     CLRF      0x7f,0x1                                                                                        
000e96   0e50     MOVLW     0x50           	TXB_B [CAN_OPEN_IdEMCY].TXBD1 = 0x50; 		// Emergency Error Code: Device Hardware (Table 21, p. 9-38) C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e98   6f7e     MOVWF     0x7e,0x1                                                                                        
000e9a   0efe     MOVLW     0xfe           	TXB_B [CAN_OPEN_IdEMCY].TXBD2 = registry;	// registry: Error Register (Table 47, p. 9-65) C:\Embedded\Tastiera CanOpenV.3.1\main.c
000e9c   cfdb     MOVFF     0xfdb,0x7d                                                                                      
000e9e   f07d                                                                                                               
000ea0   0efd     MOVLW     0xfd           	TXB_B [CAN_OPEN_IdEMCY].TXBD3 = error_data;                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ea2   cfdb     MOVFF     0xfdb,0x7c                                                                                      
000ea4   f07c                                                                                                               
000ea6   6b7b     CLRF      0x7b,0x1       	TXB_B [CAN_OPEN_IdEMCY].TXBD4 = 0x00;                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ea8   6b7a     CLRF      0x7a,0x1       	TXB_B [CAN_OPEN_IdEMCY].TXBD5 = 0x00;                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000eaa   6b79     CLRF      0x79,0x1       	TXB_B [CAN_OPEN_IdEMCY].TXBD6 = 0x00;                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000eac   6b78     CLRF      0x78,0x1       	TXB_B [CAN_OPEN_IdEMCY].TXBD7 = 0x00;                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000eae   0e08     MOVLW     0x8             	TXB_B [CAN_OPEN_IdEMCY].TXBDLC  = 0x08;                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
000eb0   6f80     MOVWF     0x80,0x1                                                                                        
000eb2   8f83     BSF       0x83,0x7,0x1   	TXB_B [CAN_OPEN_IdEMCY].ST_B.OUT = 1;	                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
000eb4   52e5     MOVF      0xe5,0x1,0x0     }                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000eb6   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000eb8   ffd9                                                                                                               
000eba   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Prepare HEARTBEAT message                          //                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           void SendHeartbeat (void)                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                             {                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ebc   c0e1     MOVFF     0xe1,0x73      	TXB_B [CAN_OPEN_IdErr].TXBD0 = StatoUnita;                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ebe   f073                                                                                                               
000ec0   0100     MOVLB     0x0            	TXB_B [CAN_OPEN_IdErr].ST_B.OUT = 1;	                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ec2   8f77     BSF       0x77,0x7,0x1                                                                                    
000ec4   0012     RETURN    0x0              }                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Prepare PDO KEYPAD VARIATION                       //                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           void SendKeypad (void)                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ec6   c0f1     MOVFF     0xf1,0x67          TXB_B [CAN_OPEN_IdTx].TXBD0 = KEY_PAD_SENT[0].All_Col;                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ec8   f067                                                                                                               
000eca   c0f2     MOVFF     0xf2,0x66          TXB_B [CAN_OPEN_IdTx].TXBD1 = KEY_PAD_SENT[1].All_Col;                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ecc   f066                                                                                                               
000ece   c0f3     MOVFF     0xf3,0x65          TXB_B [CAN_OPEN_IdTx].TXBD2 = KEY_PAD_SENT[2].All_Col;                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ed0   f065                                                                                                               
000ed2   c0f4     MOVFF     0xf4,0x64          TXB_B [CAN_OPEN_IdTx].TXBD3 = KEY_PAD_SENT[3].All_Col;                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ed4   f064                                                                                                               
000ed6   c0f5     MOVFF     0xf5,0x63          TXB_B [CAN_OPEN_IdTx].TXBD4 = KEY_PAD_SENT[4].All_Col;                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ed8   f063                                                                                                               
000eda   c0f6     MOVFF     0xf6,0x62          TXB_B [CAN_OPEN_IdTx].TXBD5 = KEY_PAD_SENT[5].All_Col;                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000edc   f062                                                                                                               
000ede   c0f7     MOVFF     0xf7,0x61          TXB_B [CAN_OPEN_IdTx].TXBD6 = KEY_PAD_SENT[6].All_Col;                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ee0   f061                                                                                                               
000ee2   0100     MOVLB     0x0                TXB_B [CAN_OPEN_IdTx].TXBD7 = 0;                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ee4   6b60     CLRF      0x60,0x1                                                                                        
000ee6   0e08     MOVLW     0x8                TXB_B [CAN_OPEN_IdTx].TXBDLC  = 8;                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ee8   6f68     MOVWF     0x68,0x1                                                                                        
000eea   8f6b     BSF       0x6b,0x7,0x1       TXB_B [CAN_OPEN_IdTx].ST_B.OUT = 1;                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
000eec   0012     RETURN    0x0            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //******************************************************//                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // Look for keypad variations and debouncing 			//                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //******************************************************//                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
000eee   cfd9     MOVFF     0xfd9,0xfe6    unsigned char Keypad_Changed (void)                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000ef0   ffe6                                                                                                               
000ef2   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000ef4   ffd9                                                                                                               
000ef6   0e02     MOVLW     0x2                                                                                             
000ef8   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
000efa   6adf     CLRF      0xdf,0x0        unsigned char Keychange = 0;                                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            unsigned char i;                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000efc   d8c6     RCALL     0x108a          ReadKeypad ();                                                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000efe   0100     MOVLB     0x0             if (++row_count < MAX_ROWS)                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f00   2bfc     INCF      0xfc,0x1,0x1                                                                                    
000f02   0e07     MOVLW     0x7                                                                                             
000f04   5dfc     SUBWF     0xfc,0x0,0x1                                                                                    
000f06   e203     BC        0xf0e                                                                                           
000f08   0e00     MOVLW     0x0            	return (FALSE); //test for keypad changes only after all rows have been checked C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f0a   d0b3     BRA       0x1072                                                                                          
000f0c   d001     BRA       0xf10           else                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f0e   6bfc     CLRF      0xfc,0x1       	row_count = 0;                                                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //All rows checked, detect keypad changes                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f10   0e01     MOVLW     0x1             for (i=0 ; i<MAX_ROWS ; i++)                                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f12   6adb     CLRF      0xdb,0x0                                                                                        
000f14   0e07     MOVLW     0x7                                                                                             
000f16   6ef3     MOVWF     0xf3,0x0                                                                                        
000f18   0e01     MOVLW     0x1                                                                                             
000f1a   cfdb     MOVFF     0xfdb,0xff4                                                                                     
000f1c   fff4                                                                                                               
000f1e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000f20   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
000f22   e21a     BC        0xf58                                                                                           
000f52   0e01     MOVLW     0x1                                                                                             
000f54   2adb     INCF      0xdb,0x1,0x0                                                                                    
000f56   d7de     BRA       0xf14                                                                                           
                                            	{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f24   0e01     MOVLW     0x1             	Keychange = (KEY_PAD_NEW[i].All_Col ^ KEY_PAD_PREV[i].All_Col);                C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f26   50db     MOVF      0xdb,0x0,0x0                                                                                    
000f28   6aea     CLRF      0xea,0x0                                                                                        
000f2a   0fea     ADDLW     0xea                                                                                            
000f2c   6ee9     MOVWF     0xe9,0x0                                                                                        
000f2e   0e00     MOVLW     0x0                                                                                             
000f30   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000f32   cfef     MOVFF     0xfef,0x0                                                                                       
000f34   f000                                                                                                               
000f36   0e01     MOVLW     0x1                                                                                             
000f38   50db     MOVF      0xdb,0x0,0x0                                                                                    
000f3a   6aea     CLRF      0xea,0x0                                                                                        
000f3c   0fe3     ADDLW     0xe3                                                                                            
000f3e   6ee9     MOVWF     0xe9,0x0                                                                                        
000f40   0e00     MOVLW     0x0                                                                                             
000f42   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000f44   50ef     MOVF      0xef,0x0,0x0                                                                                    
000f46   0100     MOVLB     0x0                                                                                             
000f48   1800     XORWF     0x0,0x0,0x0                                                                                     
000f4a   6edf     MOVWF     0xdf,0x0                                                                                        
000f4c   50df     MOVF      0xdf,0x0,0x0    	if (Keychange) break;	//stop on first change                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f4e   e001     BZ        0xf52                                                                                           
000f50   d003     BRA       0xf58                                                                                           
                                            	}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            //If No Keychange but DEBOUNCE_FLAG is on (i.e. n'th detection)                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f58   50df     MOVF      0xdf,0x0,0x0    if ((!Keychange) && (DEBOUNCE_FLAG == _ON))                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f5a   e15a     BNZ       0x1010                                                                                          
000f5c   0100     MOVLB     0x0                                                                                             
000f5e   05f8     DECF      0xf8,0x0,0x1                                                                                    
000f60   e157     BNZ       0x1010                                                                                          
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f62   0100     MOVLB     0x0            	if ((--debounce_count) > 0)                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f64   07c7     DECF      0xc7,0x1,0x1                                                                                    
000f66   51c7     MOVF      0xc7,0x0,0x1                                                                                    
000f68   0800     SUBLW     0x0                                                                                             
000f6a   e203     BC        0xf72                                                                                           
000f6c   0e00     MOVLW     0x0            		return(FALSE);  //debounce count not yet reached (don't reset debounce)        C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f6e   d081     BRA       0x1072                                                                                          
000f70   d04e     BRA       0x100e             else                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		//debounce_count reached the limit, make sure this is a real change            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f72   0e01     MOVLW     0x1            		for (i=0 ; i<MAX_ROWS ; i++)                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f74   6adb     CLRF      0xdb,0x0                                                                                        
000f76   0e07     MOVLW     0x7                                                                                             
000f78   6ef3     MOVWF     0xf3,0x0                                                                                        
000f7a   0e01     MOVLW     0x1                                                                                             
000f7c   cfdb     MOVFF     0xfdb,0xff4                                                                                     
000f7e   fff4                                                                                                               
000f80   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000f82   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
000f84   e21a     BC        0xfba                                                                                           
000fb4   0e01     MOVLW     0x1                                                                                             
000fb6   2adb     INCF      0xdb,0x1,0x0                                                                                    
000fb8   d7de     BRA       0xf76                                                                                           
                                            			{                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f86   0e01     MOVLW     0x1            	 		Keychange = (KEY_PAD_SENT[i].All_Col ^ KEY_PAD_PREV[i].All_Col);             C:\Embedded\Tastiera CanOpenV.3.1\main.c
000f88   50db     MOVF      0xdb,0x0,0x0                                                                                    
000f8a   6aea     CLRF      0xea,0x0                                                                                        
000f8c   0fea     ADDLW     0xea                                                                                            
000f8e   6ee9     MOVWF     0xe9,0x0                                                                                        
000f90   0e00     MOVLW     0x0                                                                                             
000f92   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000f94   cfef     MOVFF     0xfef,0x0                                                                                       
000f96   f000                                                                                                               
000f98   0e01     MOVLW     0x1                                                                                             
000f9a   50db     MOVF      0xdb,0x0,0x0                                                                                    
000f9c   6aea     CLRF      0xea,0x0                                                                                        
000f9e   0ff1     ADDLW     0xf1                                                                                            
000fa0   6ee9     MOVWF     0xe9,0x0                                                                                        
000fa2   0e00     MOVLW     0x0                                                                                             
000fa4   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000fa6   50ef     MOVF      0xef,0x0,0x0                                                                                    
000fa8   0100     MOVLB     0x0                                                                                             
000faa   1800     XORWF     0x0,0x0,0x0                                                                                     
000fac   6edf     MOVWF     0xdf,0x0                                                                                        
000fae   50df     MOVF      0xdf,0x0,0x0   			if (Keychange) break;                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
000fb0   e001     BZ        0xfb4                                                                                           
000fb2   d003     BRA       0xfba                                                                                           
                                            			}                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
000fba   50df     MOVF      0xdf,0x0,0x0   		if (Keychange) //debounced keypad configuration != than the last sent          C:\Embedded\Tastiera CanOpenV.3.1\main.c
000fbc   e027     BZ        0x100c                                                                                          
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
000fbe   0e01     MOVLW     0x1            			for (i = 0 ; i < MAX_ROWS ; i++) KEY_PAD_SENT[i].All_Col = KEY_PAD_PREV[i].All_Col;  C:\Embedded\Tastiera CanOpenV.3.1\main.c
000fc0   6adb     CLRF      0xdb,0x0                                                                                        
000fc2   0e07     MOVLW     0x7                                                                                             
000fc4   6ef3     MOVWF     0xf3,0x0                                                                                        
000fc6   0e01     MOVLW     0x1                                                                                             
000fc8   cfdb     MOVFF     0xfdb,0xff4                                                                                     
000fca   fff4                                                                                                               
000fcc   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000fce   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
000fd0   e216     BC        0xffe                                                                                           
000fd2   0e01     MOVLW     0x1                                                                                             
000fd4   50db     MOVF      0xdb,0x0,0x0                                                                                    
000fd6   6aea     CLRF      0xea,0x0                                                                                        
000fd8   0fea     ADDLW     0xea                                                                                            
000fda   6ee9     MOVWF     0xe9,0x0                                                                                        
000fdc   0e00     MOVLW     0x0                                                                                             
000fde   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000fe0   50ef     MOVF      0xef,0x0,0x0                                                                                    
000fe2   6ee6     MOVWF     0xe6,0x0                                                                                        
000fe4   0e01     MOVLW     0x1                                                                                             
000fe6   50db     MOVF      0xdb,0x0,0x0                                                                                    
000fe8   6aea     CLRF      0xea,0x0                                                                                        
000fea   0ff1     ADDLW     0xf1                                                                                            
000fec   6ee9     MOVWF     0xe9,0x0                                                                                        
000fee   0e00     MOVLW     0x0                                                                                             
000ff0   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000ff2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000ff4   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000ff6   6eef     MOVWF     0xef,0x0                                                                                        
000ff8   0e01     MOVLW     0x1                                                                                             
000ffa   2adb     INCF      0xdb,0x1,0x0                                                                                    
000ffc   d7e2     BRA       0xfc2                                                                                           
000ffe   c0c8     MOVFF     0xc8,0xc7      			debounce_count = debounce_period;                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001000   f0c7                                                                                                               
001002   0100     MOVLB     0x0            			DEBOUNCE_FLAG = _OFF;                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
001004   6bf8     CLRF      0xf8,0x1                                                                                        
001006   0e01     MOVLW     0x1            			return(TRUE); //this is a real change                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
001008   d034     BRA       0x1072                                                                                          
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00100a   d001     BRA       0x100e         		else goto RESET_KP; //keypad didn't changed from last send, ignore it.         C:\Embedded\Tastiera CanOpenV.3.1\main.c
00100c   d02c     BRA       0x1066                                                                                          
                                           		}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	}                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
00100e   d031     BRA       0x1072          else if ((Keychange) && (DEBOUNCE_FLAG == _OFF))                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
001010   50df     MOVF      0xdf,0x0,0x0                                                                                    
001012   e029     BZ        0x1066                                                                                          
001014   0100     MOVLB     0x0                                                                                             
001016   51f8     MOVF      0xf8,0x0,0x1                                                                                    
001018   e126     BNZ       0x1066                                                                                          
                                            	{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	// First detection of a key, copy NEW to PREV                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
00101a   0e01     MOVLW     0x1            	for (i = 0 ; i < MAX_ROWS ; KEY_PAD_PREV[i].All_Col = KEY_PAD_NEW[i].All_Col, i++); C:\Embedded\Tastiera CanOpenV.3.1\main.c
00101c   6adb     CLRF      0xdb,0x0                                                                                        
00101e   0e07     MOVLW     0x7                                                                                             
001020   6ef3     MOVWF     0xf3,0x0                                                                                        
001022   0e01     MOVLW     0x1                                                                                             
001024   cfdb     MOVFF     0xfdb,0xff4                                                                                     
001026   fff4                                                                                                               
001028   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00102a   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00102c   e216     BC        0x105a                                                                                          
00102e   0e01     MOVLW     0x1                                                                                             
001030   50db     MOVF      0xdb,0x0,0x0                                                                                    
001032   6aea     CLRF      0xea,0x0                                                                                        
001034   0fe3     ADDLW     0xe3                                                                                            
001036   6ee9     MOVWF     0xe9,0x0                                                                                        
001038   0e00     MOVLW     0x0                                                                                             
00103a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00103c   50ef     MOVF      0xef,0x0,0x0                                                                                    
00103e   6ee6     MOVWF     0xe6,0x0                                                                                        
001040   0e01     MOVLW     0x1                                                                                             
001042   50db     MOVF      0xdb,0x0,0x0                                                                                    
001044   6aea     CLRF      0xea,0x0                                                                                        
001046   0fea     ADDLW     0xea                                                                                            
001048   6ee9     MOVWF     0xe9,0x0                                                                                        
00104a   0e00     MOVLW     0x0                                                                                             
00104c   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00104e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001050   50e7     MOVF      0xe7,0x0,0x0                                                                                    
001052   6eef     MOVWF     0xef,0x0                                                                                        
001054   0e01     MOVLW     0x1                                                                                             
001056   2adb     INCF      0xdb,0x1,0x0                                                                                    
001058   d7e2     BRA       0x101e                                                                                          
00105a   0100     MOVLB     0x0            	DEBOUNCE_FLAG = _ON; //indicate debouncing                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
00105c   0e01     MOVLW     0x1                                                                                             
00105e   6ff8     MOVWF     0xf8,0x1                                                                                        
001060   0e00     MOVLW     0x0            	return (FALSE);                                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
001062   d007     BRA       0x1072                                                                                          
                                           	}                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            // unexpected Keychange while debouncing  OR !Keychange && !debouncing (normal idle state) C:\Embedded\Tastiera CanOpenV.3.1\main.c
001064   d006     BRA       0x1072          else //if ((Keychange) && (DEBOUNCE_FLAG == _ON))                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           RESET_KP:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
001066   0100     MOVLB     0x0            	DEBOUNCE_FLAG = _OFF;                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
001068   6bf8     CLRF      0xf8,0x1                                                                                        
00106a   c0c8     MOVFF     0xc8,0xc7      	debounce_count = debounce_period;                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
00106c   f0c7                                                                                                               
00106e   0e00     MOVLW     0x0            	return(FALSE);                                                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
001070   d000     BRA       0x1072                                                                                          
                                           	}                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
001072   6e00     MOVWF     0x0,0x0        }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
001074   0e02     MOVLW     0x2                                                                                             
001076   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001078   e202     BC        0x107e                                                                                          
00107a   6ae1     CLRF      0xe1,0x0                                                                                        
00107c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00107e   6ee1     MOVWF     0xe1,0x0                                                                                        
001080   5000     MOVF      0x0,0x0,0x0                                                                                     
001082   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001084   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001086   ffd9                                                                                                               
001088   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //	Read the key pad                                 //                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
00108a   cfd9     MOVFF     0xfd9,0xfe6    void ReadKeypad (void)                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
00108c   ffe6                                                                                                               
00108e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001090   ffd9                                                                                                               
001092   0e02     MOVLW     0x2                                                                                             
001094   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           unsigned char i,column;                                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001096   d94b     RCALL     0x132e          Stop_unit();                                                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //------------  consider that the rows get read only after this FSM gets to the last state C:\Embedded\Tastiera CanOpenV.3.1\main.c
001098   0100     MOVLB     0x0             switch (row_count)                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
00109a   51fc     MOVF      0xfc,0x0,0x1                                                                                    
00109c   0a06     XORLW     0x6                                                                                             
00109e   e03d     BZ        0x111a                                                                                          
0010a0   0a03     XORLW     0x3                                                                                             
0010a2   e033     BZ        0x110a                                                                                          
0010a4   0a01     XORLW     0x1                                                                                             
0010a6   e029     BZ        0x10fa                                                                                          
0010a8   0a07     XORLW     0x7                                                                                             
0010aa   e01f     BZ        0x10ea                                                                                          
0010ac   0a01     XORLW     0x1                                                                                             
0010ae   e015     BZ        0x10da                                                                                          
0010b0   0a03     XORLW     0x3                                                                                             
0010b2   e00b     BZ        0x10ca                                                                                          
0010b4   0a01     XORLW     0x1                                                                                             
0010b6   e001     BZ        0x10ba                                                                                          
0010b8   d03a     BRA       0x112e                                                                                          
                                            	{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	 case 0:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010ba   8881     BSF       0x81,0x4,0x0   		PORTBbits.RB4 = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010bc   d84c     RCALL     0x1156         		column = GetPortBits();                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010be   6ee7     MOVWF     0xe7,0x0                                                                                        
0010c0   0e01     MOVLW     0x1                                                                                             
0010c2   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0010c4   ffdb                                                                                                               
0010c6   9881     BCF       0x81,0x4,0x0   		PORTBbits.RB4 = 0;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010c8   d032     BRA       0x112e         		break;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	 case 1:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010ca   8a81     BSF       0x81,0x5,0x0   		PORTBbits.RB5 = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010cc   d844     RCALL     0x1156         		column = GetPortBits();                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010ce   6ee7     MOVWF     0xe7,0x0                                                                                        
0010d0   0e01     MOVLW     0x1                                                                                             
0010d2   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0010d4   ffdb                                                                                                               
0010d6   9a81     BCF       0x81,0x5,0x0   		PORTBbits.RB5 = 0;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010d8   d02a     BRA       0x112e         		break;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	 case 2:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010da   8c81     BSF       0x81,0x6,0x0   		PORTBbits.RB6 = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010dc   d83c     RCALL     0x1156         		column = GetPortBits();                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010de   6ee7     MOVWF     0xe7,0x0                                                                                        
0010e0   0e01     MOVLW     0x1                                                                                             
0010e2   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0010e4   ffdb                                                                                                               
0010e6   9c81     BCF       0x81,0x6,0x0   		PORTBbits.RB6 = 0;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010e8   d022     BRA       0x112e         		break;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	 case 3:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010ea   8e81     BSF       0x81,0x7,0x0   		PORTBbits.RB7 = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010ec   d834     RCALL     0x1156         		column = GetPortBits();                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010ee   6ee7     MOVWF     0xe7,0x0                                                                                        
0010f0   0e01     MOVLW     0x1                                                                                             
0010f2   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0010f4   ffdb                                                                                                               
0010f6   9e81     BCF       0x81,0x7,0x0   		PORTBbits.RB7 = 0;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010f8   d01a     BRA       0x112e         		break;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	 case 4:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010fa   8084     BSF       0x84,0x0,0x0   		PORTEbits.RE0 = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010fc   d82c     RCALL     0x1156         		column = GetPortBits();                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0010fe   6ee7     MOVWF     0xe7,0x0                                                                                        
001100   0e01     MOVLW     0x1                                                                                             
001102   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
001104   ffdb                                                                                                               
001106   9084     BCF       0x84,0x0,0x0   		PORTEbits.RE0 = 0;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001108   d012     BRA       0x112e         		break;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	 case 5:						//make sure RE0,1,2 are not the last columns read                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
00110a   8284     BSF       0x84,0x1,0x0   		PORTEbits.RE1 = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00110c   d824     RCALL     0x1156         		column = GetPortBits();                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
00110e   6ee7     MOVWF     0xe7,0x0                                                                                        
001110   0e01     MOVLW     0x1                                                                                             
001112   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
001114   ffdb                                                                                                               
001116   9284     BCF       0x84,0x1,0x0   		PORTEbits.RE1 = 0;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001118   d00a     BRA       0x112e         		break;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	 case 6:                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
00111a   8484     BSF       0x84,0x2,0x0   		PORTEbits.RE2 = 1;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00111c   d81c     RCALL     0x1156         		column = GetPortBits();                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
00111e   6ee7     MOVWF     0xe7,0x0                                                                                        
001120   0e01     MOVLW     0x1                                                                                             
001122   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
001124   ffdb                                                                                                               
001126   9484     BCF       0x84,0x2,0x0   		PORTEbits.RE2 = 0;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001128   0100     MOVLB     0x0            		test_error_now = TRUE;                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
00112a   6ffb     MOVWF     0xfb,0x1                                                                                        
00112c   d000     BRA       0x112e         		break;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            	}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
00112e   0100     MOVLB     0x0            	KEY_PAD_NEW[row_count].All_Col = column;                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
001130   51fc     MOVF      0xfc,0x0,0x1                                                                                    
001132   6aea     CLRF      0xea,0x0                                                                                        
001134   0fe3     ADDLW     0xe3                                                                                            
001136   6ee9     MOVWF     0xe9,0x0                                                                                        
001138   0e00     MOVLW     0x0                                                                                             
00113a   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
00113c   0e01     MOVLW     0x1                                                                                             
00113e   cfdb     MOVFF     0xfdb,0xfef                                                                                     
001140   ffef                                                                                                               
001142   0e02     MOVLW     0x2            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
001144   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001146   e202     BC        0x114c                                                                                          
001148   6ae1     CLRF      0xe1,0x0                                                                                        
00114a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00114c   6ee1     MOVWF     0xe1,0x0                                                                                        
00114e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001150   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001152   ffd9                                                                                                               
001154   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Read ports and put them in the corresponding byte of KEY_PAD_NEW               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
001156   cfd9     MOVFF     0xfd9,0xfe6    unsigned char GetPortBits (void)                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
001158   ffe6                                                                                                               
00115a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00115c   ffd9                                                                                                               
00115e   0e03     MOVLW     0x3                                                                                             
001160   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           int i;                                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           M_KEY_ROW KEY_PAD;                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001162   6ade     CLRF      0xde,0x0       for (i=0 ; i<66  ; i++);		//closed delay ~200uS for hw: 13Tcyc*.16uS/Tcyc*100 = 200.84uS C:\Embedded\Tastiera CanOpenV.3.1\main.c
001164   6add     CLRF      0xdd,0x0                                                                                        
001166   cfde     MOVFF     0xfde,0x0                                                                                       
001168   f000                                                                                                               
00116a   cfdd     MOVFF     0xfdd,0x1                                                                                       
00116c   f001                                                                                                               
00116e   90d8     BCF       0xd8,0x0,0x0                                                                                    
001170   5001     MOVF      0x1,0x0,0x0                                                                                     
001172   e604     BN        0x117c                                                                                          
001174   0e42     MOVLW     0x42                                                                                            
001176   5c00     SUBWF     0x0,0x0,0x0                                                                                     
001178   0e00     MOVLW     0x0                                                                                             
00117a   5801     SUBWFB    0x1,0x0,0x0                                                                                     
00117c   e205     BC        0x1188                                                                                          
00117e   2adf     INCF      0xdf,0x1,0x0                                                                                    
001180   0e01     MOVLW     0x1                                                                                             
001182   e301     BNC       0x1186                                                                                          
001184   2adb     INCF      0xdb,0x1,0x0                                                                                    
001186   d7ef     BRA       0x1166                                                                                          
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001188   0e02     MOVLW     0x2            KEY_PAD.All_Col=0;                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
00118a   6adb     CLRF      0xdb,0x0                                                                                        
00118c   cf80     MOVFF     0xf80,0xfdb    KEY_PAD.All_Col=PORTA; ////KEY_PAD.col_0...5 = PORTAbits.RA0...RA5               C:\Embedded\Tastiera CanOpenV.3.1\main.c
00118e   ffdb                                                                                                               
001190   50d9     MOVF      0xd9,0x0,0x0   KEY_PAD.col_6 = PORTBbits.RB0;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
001192   0f02     ADDLW     0x2                                                                                             
001194   6ee9     MOVWF     0xe9,0x0                                                                                        
001196   cfda     MOVFF     0xfda,0xfea                                                                                     
001198   ffea                                                                                                               
00119a   5081     MOVF      0x81,0x0,0x0                                                                                    
00119c   0b01     ANDLW     0x1                                                                                             
00119e   e002     BZ        0x11a4                                                                                          
0011a0   8cef     BSF       0xef,0x6,0x0                                                                                    
0011a2   d001     BRA       0x11a6                                                                                          
0011a4   9cef     BCF       0xef,0x6,0x0                                                                                    
0011a6   50d9     MOVF      0xd9,0x0,0x0   KEY_PAD.col_7 = PORTBbits.RB1;                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011a8   0f02     ADDLW     0x2                                                                                             
0011aa   6ee9     MOVWF     0xe9,0x0                                                                                        
0011ac   cfda     MOVFF     0xfda,0xfea                                                                                     
0011ae   ffea                                                                                                               
0011b0   5081     MOVF      0x81,0x0,0x0                                                                                    
0011b2   0b02     ANDLW     0x2                                                                                             
0011b4   e002     BZ        0x11ba                                                                                          
0011b6   8eef     BSF       0xef,0x7,0x0                                                                                    
0011b8   d001     BRA       0x11bc                                                                                          
0011ba   9eef     BCF       0xef,0x7,0x0                                                                                    
0011bc   0e02     MOVLW     0x2            return (KEY_PAD.All_Col);                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011be   50db     MOVF      0xdb,0x0,0x0                                                                                    
0011c0   6e00     MOVWF     0x0,0x0        }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011c2   0e03     MOVLW     0x3                                                                                             
0011c4   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0011c6   e203     BC        0x11ce                                                                                          
0011c8   d000     BRA       0x11ca                                                                                          
0011ca   6ae1     CLRF      0xe1,0x0                                                                                        
0011cc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0011ce   6ee1     MOVWF     0xe1,0x0                                                                                        
0011d0   5000     MOVF      0x0,0x0,0x0                                                                                     
0011d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0011d4   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0011d6   ffd9                                                                                                               
0011d8   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Operate LEDs (called every 1ms)                    //                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011da   cfd9     MOVFF     0xfd9,0xfe6    void LightLEDs (void)                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011dc   ffe6                                                                                                               
0011de   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0011e0   ffd9                                                                                                               
0011e2   0e03     MOVLW     0x3                                                                                             
0011e4   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            unsigned char LEDmask0,LEDmask1,i;                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011e6   6a83     CLRF      0x83,0x0        PORTD = 0;					//turn off leds before applying new pattern                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011e8   6a82     CLRF      0x82,0x0        PORTC = 0;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011ea   0100     MOVLB     0x0             mask.common_mask=_ON;                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011ec   8fe0     BSF       0xe0,0x7,0x1                                                                                    
                                           	                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011ee   0e05     MOVLW     0x5            	if (StatoUnita == CAN_STATE_OPERATIONAL)                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011f0   0100     MOVLB     0x0                                                                                             
0011f2   5de1     SUBWF     0xe1,0x0,0x1                                                                                    
0011f4   e001     BZ        0x11f8                                                                                          
0011f6   d087     BRA       0x1306                                                                                          
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011f8   51f9     MOVF      0xf9,0x0,0x1   	 switch (Next_Group)                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
0011fa   0a02     XORLW     0x2                                                                                             
0011fc   e059     BZ        0x12b0                                                                                          
0011fe   0a03     XORLW     0x3                                                                                             
001200   e02d     BZ        0x125c                                                                                          
001202   0a01     XORLW     0x1                                                                                             
001204   e001     BZ        0x1208                                                                                          
001206   d07f     BRA       0x1306                                                                                          
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		 case GROUP0:                                                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
001208   9284     BCF       0x84,0x1,0x0   			PORTEbits.RE1=_OFF;			//turn off other groups	                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
00120a   9484     BCF       0x84,0x2,0x0   			PORTEbits.RE2=_OFF;                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
00120c   c0cc     MOVFF     0xcc,0xfdf     			LEDmask0 = LEDs[0];                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
00120e   ffdf                                                                                                               
001210   0e01     MOVLW     0x1            			LEDmask1 = LEDs[1];                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
001212   c0cd     MOVFF     0xcd,0xfdb                                                                                      
001214   ffdb                                                                                                               
001216   0100     MOVLB     0x0            			LEDmask0 ^= BlinkMask[0];                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
001218   51d8     MOVF      0xd8,0x0,0x1                                                                                    
00121a   1adf     XORWF     0xdf,0x1,0x0                                                                                    
00121c   0e01     MOVLW     0x1            			LEDmask1 ^= BlinkMask[1];                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
00121e   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
001220   ffe7                                                                                                               
001222   51d9     MOVF      0xd9,0x0,0x1                                                                                    
001224   1ae7     XORWF     0xe7,0x1,0x0                                                                                    
001226   0e01     MOVLW     0x1                                                                                             
001228   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00122a   ffdb                                                                                                               
00122c   0e02     MOVLW     0x2            			for (i=0 ; i<5	; i++);		//delay 10uS for hw: 13Tcyc*.16uS/Tcyc*5 = 10.4uS     C:\Embedded\Tastiera CanOpenV.3.1\main.c
00122e   6adb     CLRF      0xdb,0x0                                                                                        
001230   0e05     MOVLW     0x5                                                                                             
001232   6ef3     MOVWF     0xf3,0x0                                                                                        
001234   0e02     MOVLW     0x2                                                                                             
001236   cfdb     MOVFF     0xfdb,0xff4                                                                                     
001238   fff4                                                                                                               
00123a   50f3     MOVF      0xf3,0x0,0x0                                                                                    
00123c   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
00123e   e203     BC        0x1246                                                                                          
001240   0e02     MOVLW     0x2                                                                                             
001242   2adb     INCF      0xdb,0x1,0x0                                                                                    
001244   d7f5     BRA       0x1230                                                                                          
001246   0100     MOVLB     0x0            			PORTEbits.RE0=mask.common_mask;                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
001248   51e0     MOVF      0xe0,0x0,0x1                                                                                    
00124a   0b80     ANDLW     0x80                                                                                            
00124c   e002     BZ        0x1252                                                                                          
00124e   8084     BSF       0x84,0x0,0x0                                                                                    
001250   d001     BRA       0x1254                                                                                          
001252   9084     BCF       0x84,0x0,0x0                                                                                    
001254   0100     MOVLB     0x0            			Next_Group=GROUP1;                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001256   0e01     MOVLW     0x1                                                                                             
001258   6ff9     MOVWF     0xf9,0x1                                                                                        
00125a   d055     BRA       0x1306         			break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		 case GROUP1:                                                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
00125c   9084     BCF       0x84,0x0,0x0   			PORTEbits.RE0=_OFF;                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
00125e   9484     BCF       0x84,0x2,0x0   			PORTEbits.RE2=_OFF;                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
001260   c0ce     MOVFF     0xce,0xfdf     			LEDmask0 = LEDs[2];                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
001262   ffdf                                                                                                               
001264   0e01     MOVLW     0x1            			LEDmask1 = LEDs[3];                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
001266   c0cf     MOVFF     0xcf,0xfdb                                                                                      
001268   ffdb                                                                                                               
00126a   0100     MOVLB     0x0            			LEDmask0 ^= BlinkMask[2];                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
00126c   51da     MOVF      0xda,0x0,0x1                                                                                    
00126e   1adf     XORWF     0xdf,0x1,0x0                                                                                    
001270   0e01     MOVLW     0x1            			LEDmask1 ^= BlinkMask[3];                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
001272   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
001274   ffe7                                                                                                               
001276   51db     MOVF      0xdb,0x0,0x1                                                                                    
001278   1ae7     XORWF     0xe7,0x1,0x0                                                                                    
00127a   0e01     MOVLW     0x1                                                                                             
00127c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
00127e   ffdb                                                                                                               
001280   0e02     MOVLW     0x2            			for (i=0 ; i<5	; i++);		//delay ~10uS for hw: 13Tcyc*.16uS/Tcyc*5 = 10.4uS    C:\Embedded\Tastiera CanOpenV.3.1\main.c
001282   6adb     CLRF      0xdb,0x0                                                                                        
001284   0e05     MOVLW     0x5                                                                                             
001286   6ef3     MOVWF     0xf3,0x0                                                                                        
001288   0e02     MOVLW     0x2                                                                                             
00128a   cfdb     MOVFF     0xfdb,0xff4                                                                                     
00128c   fff4                                                                                                               
00128e   50f3     MOVF      0xf3,0x0,0x0                                                                                    
001290   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
001292   e203     BC        0x129a                                                                                          
001294   0e02     MOVLW     0x2                                                                                             
001296   2adb     INCF      0xdb,0x1,0x0                                                                                    
001298   d7f5     BRA       0x1284                                                                                          
00129a   0100     MOVLB     0x0            			PORTEbits.RE1=mask.common_mask;                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
00129c   51e0     MOVF      0xe0,0x0,0x1                                                                                    
00129e   0b80     ANDLW     0x80                                                                                            
0012a0   e002     BZ        0x12a6                                                                                          
0012a2   8284     BSF       0x84,0x1,0x0                                                                                    
0012a4   d001     BRA       0x12a8                                                                                          
0012a6   9284     BCF       0x84,0x1,0x0                                                                                    
0012a8   0100     MOVLB     0x0            			Next_Group=GROUP2;                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012aa   0e02     MOVLW     0x2                                                                                             
0012ac   6ff9     MOVWF     0xf9,0x1                                                                                        
0012ae   d02b     BRA       0x1306         			break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	 	case GROUP2:                                                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012b0   9084     BCF       0x84,0x0,0x0   			PORTEbits.RE0=_OFF;                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012b2   9284     BCF       0x84,0x1,0x0   			PORTEbits.RE1=_OFF;                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012b4   c0d0     MOVFF     0xd0,0xfdf     			LEDmask0 = LEDs[4];                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012b6   ffdf                                                                                                               
0012b8   0e01     MOVLW     0x1            			LEDmask1 = LEDs[5];                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012ba   c0d1     MOVFF     0xd1,0xfdb                                                                                      
0012bc   ffdb                                                                                                               
0012be   0100     MOVLB     0x0            			LEDmask0 ^= BlinkMask[4];                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012c0   51dc     MOVF      0xdc,0x0,0x1                                                                                    
0012c2   1adf     XORWF     0xdf,0x1,0x0                                                                                    
0012c4   0e01     MOVLW     0x1            			LEDmask1 ^= BlinkMask[5];                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012c6   cfdb     MOVFF     0xfdb,0xfe7                                                                                     
0012c8   ffe7                                                                                                               
0012ca   51dd     MOVF      0xdd,0x0,0x1                                                                                    
0012cc   1ae7     XORWF     0xe7,0x1,0x0                                                                                    
0012ce   0e01     MOVLW     0x1                                                                                             
0012d0   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
0012d2   ffdb                                                                                                               
0012d4   0e02     MOVLW     0x2            			for (i=0 ; i<5	; i++);		//delay ~10uS for hw: 13Tcyc*.16uS/Tcyc*5 = 10.4uS    C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012d6   6adb     CLRF      0xdb,0x0                                                                                        
0012d8   0e05     MOVLW     0x5                                                                                             
0012da   6ef3     MOVWF     0xf3,0x0                                                                                        
0012dc   0e02     MOVLW     0x2                                                                                             
0012de   cfdb     MOVFF     0xfdb,0xff4                                                                                     
0012e0   fff4                                                                                                               
0012e2   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0012e4   5cf4     SUBWF     0xf4,0x0,0x0                                                                                    
0012e6   e203     BC        0x12ee                                                                                          
0012e8   0e02     MOVLW     0x2                                                                                             
0012ea   2adb     INCF      0xdb,0x1,0x0                                                                                    
0012ec   d7f5     BRA       0x12d8                                                                                          
0012ee   0100     MOVLB     0x0            			PORTEbits.RE2=mask.common_mask;                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012f0   51e0     MOVF      0xe0,0x0,0x1                                                                                    
0012f2   0b80     ANDLW     0x80                                                                                            
0012f4   e002     BZ        0x12fa                                                                                          
0012f6   8484     BSF       0x84,0x2,0x0                                                                                    
0012f8   d001     BRA       0x12fc                                                                                          
0012fa   9484     BCF       0x84,0x2,0x0                                                                                    
0012fc   0100     MOVLB     0x0            			check_keypad_now = TRUE;  //allow read of errors and keypad (proc Error_found turns off all leds) C:\Embedded\Tastiera CanOpenV.3.1\main.c
0012fe   0e01     MOVLW     0x1                                                                                             
001300   6ffa     MOVWF     0xfa,0x1                                                                                        
001302   6bf9     CLRF      0xf9,0x1       			Next_Group=GROUP0;                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001304   d000     BRA       0x1306         			break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	}                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
001306   50df     MOVF      0xdf,0x0,0x0    	PORTD = LEDmask0;                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
001308   6e83     MOVWF     0x83,0x0                                                                                        
00130a   0e01     MOVLW     0x1             	PORTC = LEDmask1;                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
00130c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00130e   6e82     MOVWF     0x82,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001310   909e     BCF       0x9e,0x0,0x0   	PIR1bits.TMR1IF = 0;                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001312   c0c2     MOVFF     0xc2,0xfcf     	TMR1H = T1.T1high_byte;			//start TMR1, make sure the LED cycles is always 1ms  C:\Embedded\Tastiera CanOpenV.3.1\main.c
001314   ffcf                                                                                                               
001316   c0c1     MOVFF     0xc1,0xfce     	TMR1L = T1.T1low_byte;                                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
001318   ffce                                                                                                               
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
00131a   0e03     MOVLW     0x3            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
00131c   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
00131e   e202     BC        0x1324                                                                                          
001320   6ae1     CLRF      0xe1,0x0                                                                                        
001322   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001324   6ee1     MOVWF     0xe1,0x0                                                                                        
001326   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001328   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00132a   ffd9                                                                                                               
00132c   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Shut-off all LEDs and common ports                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           void Stop_unit(void)                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
00132e   9084     BCF       0x84,0x0,0x0   	PORTEbits.RE0=_OFF;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001330   9284     BCF       0x84,0x1,0x0   	PORTEbits.RE1=_OFF;			//turn off all columns                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
001332   9484     BCF       0x84,0x2,0x0   	PORTEbits.RE2=_OFF;			//                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
001334   6a83     CLRF      0x83,0x0       	PORTD = 0;					// turn off all rows                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001336   6a82     CLRF      0x82,0x0       	PORTC = 0;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
001338   0012     RETURN    0x0            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // Check state of "columns". They should always be off unless a real             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // hw error indication set one or more ON.  If an error is found, the state      C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // of this unit changes to STOPPED and an EMCY PDO is sent.                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // This procedure is called only when stato_unita = CAN_STATE_OPERATIONAL.       C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
00133a   cfd9     MOVFF     0xfd9,0xfe6    void Test_for_Error(void)                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
00133c   ffe6                                                                                                               
00133e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
001340   ffd9                                                                                                               
001342   0e03     MOVLW     0x3                                                                                             
001344   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           M_KEY_ROW ERROR_PAD;                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           int i;                                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001346   dff3     RCALL     0x132e          Stop_unit();                                                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
001348   df06     RCALL     0x1156          ERROR_PAD.All_Col = GetPortBits();			//includes delay                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
00134a   6edf     MOVWF     0xdf,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
00134c   50df     MOVF      0xdf,0x0,0x0    if (ERROR_PAD.All_Col != 0)                                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
00134e   e012     BZ        0x1374                                                                                          
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
001350   0100     MOVLB     0x0             	if (((--error_persistancy_count) == 0))                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
001352   07fd     DECF      0xfd,0x1,0x1                                                                                    
001354   e10e     BNZ       0x1372                                                                                          
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
001356   0e04     MOVLW     0x4            			StatoUnita = CAN_STATE_STOPPED;                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
001358   6fe1     MOVWF     0xe1,0x1                                                                                        
00135a   cfdf     MOVFF     0xfdf,0xfe6    			SendEmergency(0x84, ERROR_PAD.All_Col);		//err registr=generic, device specific (table 47, p.9-65) C:\Embedded\Tastiera CanOpenV.3.1\main.c
00135c   ffe6                                                                                                               
00135e   0e84     MOVLW     0x84                                                                                            
001360   6ee6     MOVWF     0xe6,0x0                                                                                        
001362   dd93     RCALL     0xe8a                                                                                           
001364   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001366   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001368   0100     MOVLB     0x0            			error_persistancy_count = ERROR_DEBOUNCE;                                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
00136a   0e05     MOVLW     0x5                                                                                             
00136c   6ffd     MOVWF     0xfd,0x1                                                                                        
00136e   0e0a     MOVLW     0xa            			NON_error_persistancy_count = NON_ERROR_COUNT;		// leaky bucket counter reinitialized C:\Embedded\Tastiera CanOpenV.3.1\main.c
001370   6ffe     MOVWF     0xfe,0x1                                                                                        
                                           		}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            	}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
001372   d00c     BRA       0x138c          else                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            	{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
001374   0100     MOVLB     0x0            	if ((--NON_error_persistancy_count) == 0)                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
001376   07fe     DECF      0xfe,0x1,0x1                                                                                    
001378   e109     BNZ       0x138c                                                                                          
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
00137a   0e05     MOVLW     0x5            			error_persistancy_count += (error_persistancy_count < ERROR_DEBOUNCE ? 1 : 0); //incrment if counting C:\Embedded\Tastiera CanOpenV.3.1\main.c
00137c   5dfd     SUBWF     0xfd,0x0,0x1                                                                                    
00137e   e202     BC        0x1384                                                                                          
001380   0e01     MOVLW     0x1                                                                                             
001382   d001     BRA       0x1386                                                                                          
001384   0e00     MOVLW     0x0                                                                                             
001386   27fd     ADDWF     0xfd,0x1,0x1                                                                                    
001388   0e0a     MOVLW     0xa            			NON_error_persistancy_count = NON_ERROR_COUNT;	//reset                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
00138a   6ffe     MOVWF     0xfe,0x1                                                                                        
                                           		}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	}                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
00138c   0e03     MOVLW     0x3            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
00138e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001390   e202     BC        0x1396                                                                                          
001392   6ae1     CLRF      0xe1,0x0                                                                                        
001394   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001396   6ee1     MOVWF     0xe1,0x0                                                                                        
001398   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00139a   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00139c   ffd9                                                                                                               
00139e   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //Toggle Blink masks                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
0013a0   cfd9     MOVFF     0xfd9,0xfe6    void TreatBlinkMask (void)                                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
0013a2   ffe6                                                                                                               
0013a4   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0013a6   ffd9                                                                                                               
0013a8   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            char i;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
0013aa   0100     MOVLB     0x0             if ((--blink_rate) == 0)		//at 1/2 sec intervals, toggle the blink mask         C:\Embedded\Tastiera CanOpenV.3.1\main.c
0013ac   07c9     DECF      0xc9,0x1,0x1                                                                                    
0013ae   0e00     MOVLW     0x0                                                                                             
0013b0   5bca     SUBWFB    0xca,0x1,0x1                                                                                    
0013b2   51c9     MOVF      0xc9,0x0,0x1                                                                                    
0013b4   11ca     IORWF     0xca,0x0,0x1                                                                                    
0013b6   e12a     BNZ       0x140c                                                                                          
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
0013b8   6adf     CLRF      0xdf,0x0       	for (i=0	; i < MAX_LED_ROWS	; i++)                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
0013ba   cfdf     MOVFF     0xfdf,0x0                                                                                       
0013bc   f000                                                                                                               
0013be   0e06     MOVLW     0x6                                                                                             
0013c0   6ee7     MOVWF     0xe7,0x0                                                                                        
0013c2   1800     XORWF     0x0,0x0,0x0                                                                                     
0013c4   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0013c6   d002     BRA       0x13cc                                                                                          
0013c8   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0013ca   d002     BRA       0x13d0                                                                                          
0013cc   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0013ce   5c00     SUBWF     0x0,0x0,0x0                                                                                     
0013d0   e218     BC        0x1402                                                                                          
0013fe   2adf     INCF      0xdf,0x1,0x0                                                                                    
001400   d7dc     BRA       0x13ba                                                                                          
0013d2   cfdf     MOVFF     0xfdf,0xfe9    		BlinkMask[i] ^= BlinkLEDs[i];	                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
0013d4   ffe9                                                                                                               
0013d6   6aea     CLRF      0xea,0x0                                                                                        
0013d8   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0013da   68ea     SETF      0xea,0x0                                                                                        
0013dc   0ed2     MOVLW     0xd2                                                                                            
0013de   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0013e0   0e00     MOVLW     0x0                                                                                             
0013e2   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0013e4   cfef     MOVFF     0xfef,0x0                                                                                       
0013e6   f000                                                                                                               
0013e8   cfdf     MOVFF     0xfdf,0xfe9                                                                                     
0013ea   ffe9                                                                                                               
0013ec   6aea     CLRF      0xea,0x0                                                                                        
0013ee   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0013f0   68ea     SETF      0xea,0x0                                                                                        
0013f2   0ed8     MOVLW     0xd8                                                                                            
0013f4   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0013f6   0e00     MOVLW     0x0                                                                                             
0013f8   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
0013fa   5000     MOVF      0x0,0x0,0x0                                                                                     
0013fc   1aef     XORWF     0xef,0x1,0x0                                                                                    
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001402   0100     MOVLB     0x0            	blink_rate = HALF_SECOND;                                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
001404   0ef4     MOVLW     0xf4                                                                                            
001406   6fc9     MOVWF     0xc9,0x1                                                                                        
001408   0e01     MOVLW     0x1                                                                                             
00140a   6fca     MOVWF     0xca,0x1                                                                                        
                                           	}		                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00140c   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
00140e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001410   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001412   ffd9                                                                                                               
001414   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // Unpack a CANOpen message                            //                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
001416   cfd9     MOVFF     0xfd9,0xfe6    void CanIn(void)                                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
001418   ffe6                                                                                                               
00141a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00141c   ffd9                                                                                                               
00141e   0e03     MOVLW     0x3                                                                                             
001420   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            char k;                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            unsigned int Id_p;                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001422   0100     MOVLB     0x0              if (RXB_B [CAN_OPEN_IdNet].ST_B.IN)		//NMT COB-ID=x0000                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
001424   adb3     BTFSS     0xb3,0x6,0x1                                                                                    
001426   d037     BRA       0x1496                                                                                          
                                              {                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001428   9db3     BCF       0xb3,0x6,0x1       RXB_B [CAN_OPEN_IdNet].ST_B.IN = 0;                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
00142a   51af     MOVF      0xaf,0x0,0x1   	switch (RXB_B [CAN_OPEN_IdNet].TXBD0)                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
00142c   0a81     XORLW     0x81                                                                                            
00142e   e027     BZ        0x147e                                                                                          
001430   0a01     XORLW     0x1                                                                                             
001432   e01b     BZ        0x146a                                                                                          
001434   0a82     XORLW     0x82                                                                                            
001436   e00f     BZ        0x1456                                                                                          
001438   0a03     XORLW     0x3                                                                                             
00143a   e001     BZ        0x143e                                                                                          
00143c   d02c     BRA       0x1496                                                                                          
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		case CAN_REQUEST_START:                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00143e   51ae     MOVF      0xae,0x0,0x1   			if (RXB_B [CAN_OPEN_IdNet].TXBD1 == 0 || RXB_B [CAN_OPEN_IdNet].TXBD1 == Id) // if all or me C:\Embedded\Tastiera CanOpenV.3.1\main.c
001440   e003     BZ        0x1448                                                                                          
001442   51c0     MOVF      0xc0,0x0,0x1                                                                                    
001444   5dae     SUBWF     0xae,0x0,0x1                                                                                    
001446   e106     BNZ       0x1454                                                                                          
                                           				{                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001448   0100     MOVLB     0x0            				StatoUnita        = CAN_STATE_OPERATIONAL;                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
00144a   0e05     MOVLW     0x5                                                                                             
00144c   6fe1     MOVWF     0xe1,0x1                                                                                        
00144e   6ffd     MOVWF     0xfd,0x1       				error_persistancy_count = ERROR_DEBOUNCE;                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
001450   de1c     RCALL     0x108a         				ReadKeypad();                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
001452   dd39     RCALL     0xec6          				SendKeypad();                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           				}                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001454   d020     BRA       0x1496         			break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		case CAN_REQUEST_STOP:      // STOP                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001456   51ae     MOVF      0xae,0x0,0x1   			if (RXB_B [CAN_OPEN_IdNet].TXBD1 == 0 || RXB_B [CAN_OPEN_IdNet].TXBD1 == Id) // if all or me C:\Embedded\Tastiera CanOpenV.3.1\main.c
001458   e003     BZ        0x1460                                                                                          
00145a   51c0     MOVF      0xc0,0x0,0x1                                                                                    
00145c   5dae     SUBWF     0xae,0x0,0x1                                                                                    
00145e   e104     BNZ       0x1468                                                                                          
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001460   0100     MOVLB     0x0            				StatoUnita = CAN_STATE_STOPPED;                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
001462   0e04     MOVLW     0x4                                                                                             
001464   6fe1     MOVWF     0xe1,0x1                                                                                        
001466   df63     RCALL     0x132e         				Stop_unit();                                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001468   d016     BRA       0x1496         			break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		case CAN_REQUEST_ENTER_PREOP:      // ENTER PREOPERATIONAL                     C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00146a   51ae     MOVF      0xae,0x0,0x1   			if (RXB_B [CAN_OPEN_IdNet].TXBD1 == 0 || RXB_B [CAN_OPEN_IdNet].TXBD1 == Id) // if all or me C:\Embedded\Tastiera CanOpenV.3.1\main.c
00146c   e003     BZ        0x1474                                                                                          
00146e   51c0     MOVF      0xc0,0x0,0x1                                                                                    
001470   5dae     SUBWF     0xae,0x0,0x1                                                                                    
001472   e104     BNZ       0x147c                                                                                          
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001474   0100     MOVLB     0x0            				StatoUnita = CAN_STATE_PREOPERATIONAL;                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
001476   0e7f     MOVLW     0x7f                                                                                            
001478   6fe1     MOVWF     0xe1,0x1                                                                                        
00147a   df59     RCALL     0x132e         				Stop_unit();                                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00147c   d00c     BRA       0x1496         			break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		case CAN_REQUEST_RESET:      // RESET                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00147e   51ae     MOVF      0xae,0x0,0x1   			if (RXB_B [CAN_OPEN_IdNet].TXBD1 == 0 || RXB_B [CAN_OPEN_IdNet].TXBD1 == Id) // if all or me C:\Embedded\Tastiera CanOpenV.3.1\main.c
001480   e003     BZ        0x1488                                                                                          
001482   51c0     MOVF      0xc0,0x0,0x1                                                                                    
001484   5dae     SUBWF     0xae,0x0,0x1                                                                                    
001486   e106     BNZ       0x1494                                                                                          
                                           				{                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001488   0100     MOVLB     0x0            				StatoUnita = CAN_STATE_PREOPERATIONAL;                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
00148a   0e7f     MOVLW     0x7f                                                                                            
00148c   6fe1     MOVWF     0xe1,0x1                                                                                        
00148e   df4f     RCALL     0x132e         				Stop_unit();                                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
001490   ecc6     CALL      0x78c,0x0      				init_cip ();                                                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
001492   f003                                                                                                               
                                           				}                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001494   d000     BRA       0x1496         			break;                                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		default:;                                                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		}                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                              }                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001496   0100     MOVLB     0x0              if (RXB_B [CAN_OPEN_PDO1].ST_B.IN)                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001498   ad9b     BTFSS     0x9b,0x6,0x1                                                                                    
00149a   d00d     BRA       0x14b6                                                                                          
                                              {                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
00149c   9d9b     BCF       0x9b,0x6,0x1       RXB_B [CAN_OPEN_PDO1].ST_B.IN = 0;		//lighting                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
00149e   c097     MOVFF     0x97,0xcc          LEDs[0] = RXB_B [CAN_OPEN_PDO1].TXBD0;                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014a0   f0cc                                                                                                               
0014a2   c096     MOVFF     0x96,0xcd          LEDs[1] = RXB_B [CAN_OPEN_PDO1].TXBD1;                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014a4   f0cd                                                                                                               
0014a6   c095     MOVFF     0x95,0xce          LEDs[2] = RXB_B [CAN_OPEN_PDO1].TXBD2;                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014a8   f0ce                                                                                                               
0014aa   c094     MOVFF     0x94,0xcf          LEDs[3] = RXB_B [CAN_OPEN_PDO1].TXBD3;                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014ac   f0cf                                                                                                               
0014ae   c093     MOVFF     0x93,0xd0          LEDs[4] = RXB_B [CAN_OPEN_PDO1].TXBD4;                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014b0   f0d0                                                                                                               
0014b2   c092     MOVFF     0x92,0xd1          LEDs[5] = RXB_B [CAN_OPEN_PDO1].TXBD5;	                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014b4   f0d1                                                                                                               
                                               }                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014b6   ada7     BTFSS     0xa7,0x6,0x1     if (RXB_B [CAN_OPEN_PDO2].ST_B.IN)		//blinking                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014b8   d02b     BRA       0x1510                                                                                          
                                               {                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014ba   9da7     BCF       0xa7,0x6,0x1       RXB_B [CAN_OPEN_PDO2].ST_B.IN = 0;                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014bc   c0a3     MOVFF     0xa3,0xd2          BlinkLEDs[0] = RXB_B [CAN_OPEN_PDO2].TXBD0;                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014be   f0d2                                                                                                               
0014c0   c0a2     MOVFF     0xa2,0xd3          BlinkLEDs[1] = RXB_B [CAN_OPEN_PDO2].TXBD1;                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014c2   f0d3                                                                                                               
0014c4   c0a1     MOVFF     0xa1,0xd4          BlinkLEDs[2] = RXB_B [CAN_OPEN_PDO2].TXBD2;                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014c6   f0d4                                                                                                               
0014c8   c0a0     MOVFF     0xa0,0xd5          BlinkLEDs[3] = RXB_B [CAN_OPEN_PDO2].TXBD3;                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014ca   f0d5                                                                                                               
0014cc   c09f     MOVFF     0x9f,0xd6          BlinkLEDs[4] = RXB_B [CAN_OPEN_PDO2].TXBD4;                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014ce   f0d6                                                                                                               
0014d0   c09e     MOVFF     0x9e,0xd7          BlinkLEDs[5] = RXB_B [CAN_OPEN_PDO2].TXBD5;                                  C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014d2   f0d7                                                                                                               
0014d4   6adf     CLRF      0xdf,0x0       	for (k=0	; k<6	; k++)					//new blink pattern, clear old one                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014d6   cfdf     MOVFF     0xfdf,0x0                                                                                       
0014d8   f000                                                                                                               
0014da   0e06     MOVLW     0x6                                                                                             
0014dc   6ee7     MOVWF     0xe7,0x0                                                                                        
0014de   1800     XORWF     0x0,0x0,0x0                                                                                     
0014e0   aee8     BTFSS     0xe8,0x7,0x0                                                                                    
0014e2   d002     BRA       0x14e8                                                                                          
0014e4   34e7     RLCF      0xe7,0x0,0x0                                                                                    
0014e6   d002     BRA       0x14ec                                                                                          
0014e8   50e7     MOVF      0xe7,0x0,0x0                                                                                    
0014ea   5c00     SUBWF     0x0,0x0,0x0                                                                                     
0014ec   e20c     BC        0x1506                                                                                          
001502   2adf     INCF      0xdf,0x1,0x0                                                                                    
001504   d7e8     BRA       0x14d6                                                                                          
0014ee   cfdf     MOVFF     0xfdf,0xfe9    		BlinkMask[k] =0;                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
0014f0   ffe9                                                                                                               
0014f2   6aea     CLRF      0xea,0x0                                                                                        
0014f4   bee9     BTFSC     0xe9,0x7,0x0                                                                                    
0014f6   68ea     SETF      0xea,0x0                                                                                        
0014f8   0ed8     MOVLW     0xd8                                                                                            
0014fa   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
0014fc   0e00     MOVLW     0x0                                                                                             
0014fe   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
001500   6aef     CLRF      0xef,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001506   0100     MOVLB     0x0            	blink_rate = HALF_SECOND;					//restart the timer                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
001508   0ef4     MOVLW     0xf4                                                                                            
00150a   6fc9     MOVWF     0xc9,0x1                                                                                        
00150c   0e01     MOVLW     0x1                                                                                             
00150e   6fca     MOVWF     0xca,0x1                                                                                        
                                               }                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001510   0e03     MOVLW     0x3            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
001512   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
001514   e202     BC        0x151a                                                                                          
001516   6ae1     CLRF      0xe1,0x0                                                                                        
001518   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00151a   6ee1     MOVWF     0xe1,0x0                                                                                        
00151c   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00151e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
001520   ffd9                                                                                                               
001522   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           // Start execution                                   //                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           //***************************************************//                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
001524   cfd9     MOVFF     0xfd9,0xfe6    void main ( )                                                                    C:\Embedded\Tastiera CanOpenV.3.1\main.c
001526   ffe6                                                                                                               
001528   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00152a   ffd9                                                                                                               
00152c   0e08     MOVLW     0x8                                                                                             
00152e   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            unsigned long counter,i;                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001530   0eb0     MOVLW     0xb0             { _asm movlw 0xb0 movwf 0xf9c,0 _endasm }	// x Errata - Table Read             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001532   6e9c     MOVWF     0x9c,0x0                                                                                        
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001534   ecc6     CALL      0x78c,0x0        init_cip ();                                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
001536   f003                                                                                                               
001538   6ae6     CLRF      0xe6,0x0         SendEmergency(0x80,0x00);                                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
00153a   0e80     MOVLW     0x80                                                                                            
00153c   6ee6     MOVWF     0xe6,0x0                                                                                        
00153e   dca5     RCALL     0xe8a                                                                                           
001540   52e5     MOVF      0xe5,0x1,0x0                                                                                    
001542   52e5     MOVF      0xe5,0x1,0x0                                                                                    
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                             // Main loop                                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
0015ba   d7c4     BRA       0x1544           for (;;)                                                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                              {                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001544   0004     CLRWDT                       _asm clrwdt _endasm                                                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001546   ecc7     CALL      0xb8e,0x0          CanOut();										// Send outstanding CAN messages if any                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
001548   f005                                                                                                               
00154a   df65     RCALL     0x1416             CanIn ();					    				// Unpack CAN messages if any                          C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
00154c   a4f2     BTFSS     0xf2,0x2,0x0   	if (INTCONbits.TMR0IF)							// 1 ms tasks                                      C:\Embedded\Tastiera CanOpenV.3.1\main.c
00154e   d011     BRA       0x1572                                                                                          
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
001550   0ea0     MOVLW     0xa0           		TMR0L = 0x0 - Timer0tick_ms;				//Reset tmr0                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
001552   6ed6     MOVWF     0xd6,0x0                                                                                        
001554   94f2     BCF       0xf2,0x2,0x0    		INTCONbits.TMR0IF = 0;                                                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001556   0100     MOVLB     0x0            		if ((--heartbeat_count.count) == 0)                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001558   07c3     DECF      0xc3,0x1,0x1                                                                                    
00155a   0e00     MOVLW     0x0                                                                                             
00155c   5bc4     SUBWFB    0xc4,0x1,0x1                                                                                    
00155e   0100     MOVLB     0x0                                                                                             
001560   51c3     MOVF      0xc3,0x0,0x1                                                                                    
001562   11c4     IORWF     0xc4,0x0,0x1                                                                                    
001564   e105     BNZ       0x1570                                                                                          
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
001566   dcaa     RCALL     0xebc          			SendHeartbeat ();                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001568   c0c5     MOVFF     0xc5,0xc3      			heartbeat_count.count = heartbeat_rate.count;                                 C:\Embedded\Tastiera CanOpenV.3.1\main.c
00156a   f0c3                                                                                                               
00156c   c0c6     MOVFF     0xc6,0xc4                                                                                       
00156e   f0c4                                                                                                               
                                           		}	                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001570   df17     RCALL     0x13a0         		TreatBlinkMask();						//blink mask changes each 1/2 sec                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	}                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001572   a09e     BTFSS     0x9e,0x0,0x0   	if (PIR1bits.TMR1IF)                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
001574   d022     BRA       0x15ba                                                                                          
                                           	{                                                                               C:\Embedded\Tastiera CanOpenV.3.1\main.c
001576   909e     BCF       0x9e,0x0,0x0   		PIR1bits.TMR1IF = 0;                                                           C:\Embedded\Tastiera CanOpenV.3.1\main.c
001578   0e05     MOVLW     0x5            		if (StatoUnita == CAN_STATE_OPERATIONAL)                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
00157a   0100     MOVLB     0x0                                                                                             
00157c   5de1     SUBWF     0xe1,0x0,0x1                                                                                    
00157e   e11d     BNZ       0x15ba                                                                                          
                                           		{                                                                              C:\Embedded\Tastiera CanOpenV.3.1\main.c
001580   0100     MOVLB     0x0            			if (test_error_now == TRUE)                                                   C:\Embedded\Tastiera CanOpenV.3.1\main.c
001582   05fb     DECF      0xfb,0x0,0x1                                                                                    
001584   e108     BNZ       0x1596                                                                                          
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001586   ded9     RCALL     0x133a         				Test_for_Error();								//error test: once each 7 keypad reeads             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001588   0e05     MOVLW     0x5            				if (error_persistancy_count == ERROR_DEBOUNCE)			// leaky bucket counter reinitialized C:\Embedded\Tastiera CanOpenV.3.1\main.c
00158a   0100     MOVLB     0x0                                                                                             
00158c   5dfd     SUBWF     0xfd,0x0,0x1                                                                                    
00158e   e102     BNZ       0x1594                                                                                          
001590   0100     MOVLB     0x0            					test_error_now = FALSE;								// continue to check error if we are deboucing a previous error C:\Embedded\Tastiera CanOpenV.3.1\main.c
001592   6bfb     CLRF      0xfb,0x1                                                                                        
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
001594   d00d     BRA       0x15b0         			else if ((check_keypad_now == TRUE) && (StatoUnita == CAN_STATE_OPERATIONAL)) C:\Embedded\Tastiera CanOpenV.3.1\main.c
001596   0100     MOVLB     0x0                                                                                             
001598   05fa     DECF      0xfa,0x0,0x1                                                                                    
00159a   e10a     BNZ       0x15b0                                                                                          
00159c   0e05     MOVLW     0x5                                                                                             
00159e   0100     MOVLB     0x0                                                                                             
0015a0   5de1     SUBWF     0xe1,0x0,0x1                                                                                    
0015a2   e106     BNZ       0x15b0                                                                                          
                                           			{                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0015a4   dca4     RCALL     0xeee          				if (Keypad_Changed()) SendKeypad();    			//keypad treatment with debounce   C:\Embedded\Tastiera CanOpenV.3.1\main.c
0015a6   0900     IORLW     0x0                                                                                             
0015a8   e001     BZ        0x15ac                                                                                          
0015aa   dc8d     RCALL     0xec6                                                                                           
0015ac   0100     MOVLB     0x0            				check_keypad_now = FALSE;  						//defer keypad reads                        C:\Embedded\Tastiera CanOpenV.3.1\main.c
0015ae   6bfa     CLRF      0xfa,0x1                                                                                        
                                           			}                                                                             C:\Embedded\Tastiera CanOpenV.3.1\main.c
0015b0   0e05     MOVLW     0x5            			if (StatoUnita == CAN_STATE_OPERATIONAL) LightLEDs();	//LED variations each 1ms. C:\Embedded\Tastiera CanOpenV.3.1\main.c
0015b2   0100     MOVLB     0x0                                                                                             
0015b4   5de1     SUBWF     0xe1,0x0,0x1                                                                                    
0015b6   e101     BNZ       0x15ba                                                                                          
0015b8   de10     RCALL     0x11da                                                                                          
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           		}//state                                                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                           	}//TMR1IF                                                                       C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                            } //for                                                                         C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
0015bc   0e08     MOVLW     0x8            }                                                                                C:\Embedded\Tastiera CanOpenV.3.1\main.c
0015be   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
0015c0   e202     BC        0x15c6                                                                                          
0015c2   6ae1     CLRF      0xe1,0x0                                                                                        
0015c4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0015c6   6ee1     MOVWF     0xe1,0x0                                                                                        
0015c8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0015ca   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0015cc   ffd9                                                                                                               
0015ce   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                                                                                            C:\Embedded\Tastiera CanOpenV.3.1\main.c
                                                   LIST P=18F4580                                                           C:\MCC18\SRC\TRADIT~1\PROC\p18f4580.asm
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\PROC\p18f4580.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\PROC\p18f4580.asm
                                           ;	RCS Header $Id: cmath18.asm,v 1.4.12.1 2006/01/13 04:11:25 nairnj Exp $        C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           SIGN		RES 1       ; save location for sign in MSB                                C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           __FPFLAGSbits                                                                    C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           __FPFLAGS		RES 1       ; floating point library exception flags                  C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                   GLOBAL  SIGN, __FPFLAGS, __FPFLAGSbits                                   C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
